"use strict";(self.webpackChunkalasta_ui=self.webpackChunkalasta_ui||[]).push([[500],{9147:(W,T,d)=>{d.d(T,{Ib:()=>C,Vg:()=>p,ub:()=>g});var E,O=d(3905),m=d(4004),n=d(2340),_=d(5e3),f=d(520),p=(()=>{return(l=p||(p={}))[l.CANDIDATE=0]="CANDIDATE",l[l.CANDIDATE_ENDED_NOT_SELECTED_BUT_DESIRED=1]="CANDIDATE_ENDED_NOT_SELECTED_BUT_DESIRED",l[l.CANDIDATE_ENDED_NOT_DESIRED=2]="CANDIDATE_ENDED_NOT_DESIRED",l[l.ACTIVE=10]="ACTIVE",l[l.ENDED=19]="ENDED",l[l.CHANGE_PROMOTION=20]="CHANGE_PROMOTION",l[l.CHANGE_LATERAL_MOVEMENT=21]="CHANGE_LATERAL_MOVEMENT",l[l.CHANGE_TRANSFER_SAME_POSITION=22]="CHANGE_TRANSFER_SAME_POSITION",l[l.CHANGE_TRANSFER_PROMOTION=23]="CHANGE_TRANSFER_PROMOTION",l[l.DISMISSAL_VOLUNTARY_ABSENTEEISM=50]="DISMISSAL_VOLUNTARY_ABSENTEEISM",l[l.DISMISSAL_VOLUNTARY_ABANDONMENT=51]="DISMISSAL_VOLUNTARY_ABANDONMENT",l[l.DISMISSAL_VOLUNTARY_RETIREMENT=52]="DISMISSAL_VOLUNTARY_RETIREMENT",l[l.DISMISSAL_VOLUNTARY_BETTER_OFFER=53]="DISMISSAL_VOLUNTARY_BETTER_OFFER",l[l.DISMISSAL_VOLUNTARY_PERSONAL=54]="DISMISSAL_VOLUNTARY_PERSONAL",l[l.DISMISSAL_FORCED_END_OF_CONTRACT=70]="DISMISSAL_FORCED_END_OF_CONTRACT",l[l.DISMISSAL_FORCED_DISEASE=71]="DISMISSAL_FORCED_DISEASE",l[l.DISMISSAL_FORCED_DEATH=72]="DISMISSAL_FORCED_DEATH",l[l.DISMISSAL_FORCED_LOW_PERFORMANCE=73]="DISMISSAL_FORCED_LOW_PERFORMANCE",l[l.DISMISSAL_FORCED_INAPROPIATE_BEHAVIORS=74]="DISMISSAL_FORCED_INAPROPIATE_BEHAVIORS",l[l.DISMISSAL_FORCED_OTHERS=75]="DISMISSAL_FORCED_OTHERS",p;var l})();class g{}E=g,g.changesReasons=[p.CHANGE_PROMOTION,p.CHANGE_LATERAL_MOVEMENT,p.CHANGE_TRANSFER_SAME_POSITION,p.CHANGE_TRANSFER_PROMOTION],g.voluntaryDismissalReasons=[p.DISMISSAL_VOLUNTARY_ABSENTEEISM,p.DISMISSAL_VOLUNTARY_ABANDONMENT,p.DISMISSAL_VOLUNTARY_RETIREMENT,p.DISMISSAL_VOLUNTARY_BETTER_OFFER,p.DISMISSAL_VOLUNTARY_PERSONAL],g.forcedDismissalReasons=[p.DISMISSAL_FORCED_END_OF_CONTRACT,p.DISMISSAL_FORCED_DISEASE,p.DISMISSAL_FORCED_DEATH,p.DISMISSAL_FORCED_LOW_PERFORMANCE,p.DISMISSAL_FORCED_INAPROPIATE_BEHAVIORS,p.DISMISSAL_FORCED_OTHERS],g.allDismissalReasons=[...E.voluntaryDismissalReasons,...E.forcedDismissalReasons],g.statusNameMap=new Map([[p.CANDIDATE,"Candidate"],[p.CANDIDATE_ENDED_NOT_SELECTED_BUT_DESIRED,"Candidate ended but not selected"],[p.CANDIDATE_ENDED_NOT_DESIRED,"Candidate not desired"],[p.ACTIVE,"Active"],[p.ENDED,"Ended"],[p.CHANGE_PROMOTION,"Promotion"],[p.CHANGE_LATERAL_MOVEMENT,"Lateral movement"],[p.CHANGE_TRANSFER_SAME_POSITION,"Transfer same position"],[p.CHANGE_TRANSFER_PROMOTION,"Transfer promotion"],[p.DISMISSAL_VOLUNTARY_ABSENTEEISM,"Absenteeism"],[p.DISMISSAL_VOLUNTARY_ABANDONMENT,"Abandonment"],[p.DISMISSAL_VOLUNTARY_RETIREMENT,"Retirement"],[p.DISMISSAL_VOLUNTARY_BETTER_OFFER,"Better offer"],[p.DISMISSAL_VOLUNTARY_PERSONAL,"Personal"],[p.DISMISSAL_FORCED_END_OF_CONTRACT,"End of contract"],[p.DISMISSAL_FORCED_DISEASE,"Disease"],[p.DISMISSAL_FORCED_DEATH,"Death"],[p.DISMISSAL_FORCED_LOW_PERFORMANCE,"Low performance"],[p.DISMISSAL_FORCED_INAPROPIATE_BEHAVIORS,"Inapropiate behaviors"],[p.DISMISSAL_FORCED_OTHERS,"Other"]]);let C=(()=>{class l{constructor(y){this.http=y,this.serverUrl=n.N.v2apiServer}static formatDates(y){return Object.assign(Object.assign(Object.assign({},y),y.from?{from:new Date(y.from)}:{}),y.until?{until:new Date(y.until)}:{})}createEmploymentRecord(y,D,P,A,I){return(0,O.z)(this.http.post(this.serverUrl+"employment/",Object.assign({job:y,talent:D,status:P,from:A.toISOString()},I?{allowMultiple:I}:{})).pipe((0,m.U)(Y=>l.formatDates(Y))))}getActiveEmploymentForTalent(y){return(0,O.z)(this.http.get(this.serverUrl+"employment/active/"+y).pipe((0,m.U)(D=>D?l.formatDates(D):null)))}getEmploymentsForTalent(y){return(0,O.z)(this.http.get(this.serverUrl+"employment/talent/"+y).pipe((0,m.U)(D=>D.map(P=>l.formatDates(P)))))}editEmployment(y,D,P,A,I){return(0,O.z)(this.http.put(this.serverUrl+"employment/"+y,Object.assign(Object.assign(Object.assign({from:D.toISOString()},void 0!==P?{status:P}:{}),void 0!==A?{until:A}:{}),void 0!==I?{notes:I}:{})).pipe((0,m.U)(Y=>l.formatDates(Y))))}endEmployment(y,D,P,A){return(0,O.z)(this.http.put(this.serverUrl+"employment/"+y,Object.assign({status:D,until:P.toISOString()},A?{notes:A}:{})).pipe((0,m.U)(I=>l.formatDates(I))))}}return l.\u0275fac=function(y){return new(y||l)(_.LFG(f.eN))},l.\u0275prov=_.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})()},8254:(W,T,d)=>{d.d(T,{M:()=>p});var O=d(3905),m=d(4004),n=d(262),_=d(2340),f=d(5e3),E=d(520);let p=(()=>{class g{constructor(l){this.http=l,this.serverUrl=_.N.apiServer}getBoxes(){return(0,O.z)(this.http.get(this.serverUrl+"box").pipe((0,m.U)(l=>({boxes:l.boxes.map(S=>({pos:S.pos,title:S.title,txtCol:S.txtCol,bkgCol:S.bkgCol,potRng:S.potRng,perRng:S.perRng,_id:S._id}))})),(0,n.K)(l=>(console.error(l.error),[]))))}}return g.\u0275fac=function(l){return new(l||g)(f.LFG(E.eN))},g.\u0275prov=f.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})()},9559:(W,T,d)=>{d.d(T,{f:()=>p});var O=d(3905),m=d(4004),n=d(2340),_=d(2027),f=d(5e3),E=d(520);let p=(()=>{class g{constructor(l){this.http=l,this.serverV2Url=n.N.v2apiServer}static formatDates(l){return Object.assign(Object.assign({},l),l.date?{date:new _.p({ISODateString:l.date})}:{})}getTalentReviews(l){return(0,O.z)(this.http.get(this.serverV2Url+"review/talent/"+l).pipe((0,m.U)(S=>({talentReviews:S.map(y=>g.formatDates(y))}))))}editTalentReview(l,S){return(0,O.z)(this.http.put(this.serverV2Url+"review/"+l,S).pipe((0,m.U)(y=>y)))}addTalentReview(l){return(0,O.z)(this.http.post(this.serverV2Url+"review",l).pipe((0,m.U)(S=>S)))}}return g.\u0275fac=function(l){return new(l||g)(f.LFG(E.eN))},g.\u0275prov=f.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})()},4053:(W,T,d)=>{d.d(T,{U:()=>p});var O=d(3905),m=d(4004),n=d(2340),_=d(9147),f=d(5e3),E=d(520);let p=(()=>{class g{constructor(l){this.http=l,this.serverUrl=n.N.v2apiServer}getTeamByLeader(l){return(0,O.z)(this.http.get(this.serverUrl+"team/"+l).pipe((0,m.U)(S=>Object.assign(Object.assign(Object.assign({},S),S.employment?{employment:_.Ib.formatDates(S.employment)}:{}),{teamMembers:S.teamMembers.map(y=>Object.assign(Object.assign({},y),y.employment?{employment:_.Ib.formatDates(y.employment)}:{}))}))))}getRelevantJobByTalent(l){return(0,O.z)(this.http.get(this.serverUrl+"team/relevant-job/"+l).pipe((0,m.U)(S=>S)))}getTopMostJobInHierarchy(){return(0,O.z)(this.http.get(this.serverUrl+"team/top-most-job/").pipe((0,m.U)(l=>l)))}addEndedEmployment(l,S,y,D,P,A,I){return(0,O.z)(this.http.post(this.serverUrl+"team/ended-employment",Object.assign({title:void 0,leaderJob:void 0,property:l,position:S,talent:y,status:D,from:P,until:A},I?{notes:I}:{})).pipe((0,m.U)(Y=>Y)))}addJob(l,S,y){return(0,O.z)(this.http.post(this.serverUrl+"job/",{leader:l,property:S,position:y}).pipe((0,m.U)(D=>D)))}removeJob(l){return(0,O.z)(this.http.delete(this.serverUrl+"job/"+l).pipe((0,m.U)(S=>S)))}getOwnActiveResponsibiliy(){return(0,O.z)(this.http.get(this.serverUrl+"team/active-responsibility/").pipe((0,m.U)(l=>l)))}}return g.\u0275fac=function(l){return new(l||g)(f.LFG(E.eN))},g.\u0275prov=f.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})()},1658:(W,T,d)=>{d.d(T,{d:()=>m});var O=d(4004);class m{static valueNotInArray(_){return f=>_.includes(f.value)?{valueInArray:{value:f.value}}:null}static valueInArray(_){return f=>_.includes(f.value)?null:{valueNotInOptions:{value:f.value}}}static optionalValueInArray(_){return f=>_.pipe((0,O.U)(E=>E.includes(f.value)),(0,O.U)(E=>E?null:{valueNotInOptions:{value:f.value}}))}static allOrNothing(_){return f=>{const E=_.some(g=>{var C;return null===(C=f.get(g))||void 0===C?void 0:C.value}),p=_.every(g=>{var C;return null===(C=f.get(g))||void 0===C?void 0:C.value});return _.forEach(g=>{let C=f.get(g);E&&!p?(null==C?void 0:C.value)||null==C||C.setErrors(Object.assign(Object.assign({},C.errors),{allOrNothing:E})):(null==C?void 0:C.errors)&&C.errors.allOrNothing&&(delete C.errors.allOrNothing,C.markAsUntouched(),C.updateValueAndValidity())}),E&&!p?{allOrNothing:E}:null}}static isInteger(){return _=>{const f=parseFloat(_.value);return!isNaN(f)&&isFinite(f)&&Number.isInteger(f)&&"number"==typeof f?null:{notInteger:{value:_.value}}}}static isNumeric(){return _=>!isNaN(parseFloat(_.value))&&isFinite(_.value)?null:{notNumeric:{value:_.value}}}static isWithinDates(_,f,E){return p=>E.date.valueOf()>_.date.valueOf()&&E.date.valueOf()<f.date.valueOf()?null:{dateNotAcceptable:{value:p.value}}}}},6386:(W,T,d)=>{d.d(T,{gD:()=>ue,LD:()=>fe});var O=d(7228),m=d(9808),n=d(5e3),_=d(3191),f=d(925),E=d(226);class D{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class P extends D{constructor(e,t,i,s){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=s}}class A extends D{constructor(e,t,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class I extends D{constructor(e){super(),this.element=e instanceof n.SBq?e.nativeElement:e}}class Dt extends class Y{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof P?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof A?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof I?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(e,t,i,s,r){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=s,this.attachDomPortal=a=>{const h=a.element,c=this._document.createComment("dom-portal");h.parentNode.insertBefore(c,h),this.outletElement.appendChild(h),this._attachedPortal=a,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(h,c)})},this._document=r}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let s;return e.viewContainerRef?(s=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>s.destroy())):(s=i.create(e.injector||this._defaultInjector),this._appRef.attachView(s.hostView),this.setDisposeFn(()=>{this._appRef.detachView(s.hostView),s.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(s)),this._attachedPortal=e,s}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context);return i.rootNodes.forEach(s=>this.outletElement.appendChild(s)),i.detectChanges(),this.setDisposeFn(()=>{let s=t.indexOf(i);-1!==s&&t.remove(s)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let wt=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=n.oAB({type:o}),o.\u0275inj=n.cJS({}),o})();var N=d(7579),U=d(727),X=d(6451),K=d(5698),x=d(2722),Rt=d(4482),Mt=d(5403),R=d(1159);const st=(0,f.Mq)();class At{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=(0,_.HM)(-this._previousScrollPosition.left),e.style.top=(0,_.HM)(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,s=this._document.body.style,r=i.scrollBehavior||"",a=s.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),st&&(i.scrollBehavior=s.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),st&&(i.scrollBehavior=r,s.scrollBehavior=a)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class It{constructor(e,t,i,s){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=s,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class nt{enable(){}disable(){}attach(){}}function Q(o,e){return e.some(t=>o.bottom<t.top||o.top>t.bottom||o.right<t.left||o.left>t.right)}function ot(o,e){return e.some(t=>o.top<t.top||o.bottom>t.bottom||o.left<t.left||o.right>t.right)}class Tt{constructor(e,t,i,s){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=s,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:s}=this._viewportRuler.getViewportSize();Q(t,[{width:i,height:s,bottom:s,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let kt=(()=>{class o{constructor(t,i,s,r){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=s,this.noop=()=>new nt,this.close=a=>new It(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new At(this._viewportRuler,this._document),this.reposition=a=>new Tt(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=r}}return o.\u0275fac=function(t){return new(t||o)(n.LFG(O.mF),n.LFG(O.rL),n.LFG(n.R0b),n.LFG(m.K0))},o.\u0275prov=n.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();class rt{constructor(e){if(this.scrollStrategy=new nt,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class Lt{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}class xt{constructor(e,t,i,s,r,a,h,c,u){this._portalOutlet=e,this._host=t,this._pane=i,this._config=s,this._ngZone=r,this._keyboardDispatcher=a,this._document=h,this._location=c,this._outsideClickDispatcher=u,this._backdropElement=null,this._backdropClick=new N.x,this._attachments=new N.x,this._detachments=new N.x,this._locationChanges=U.w0.EMPTY,this._backdropClickHandler=v=>this._backdropClick.next(v),this._keydownEvents=new N.x,this._outsidePointerEvents=new N.x,s.scrollStrategy&&(this._scrollStrategy=s.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=s.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){let t=this._portalOutlet.attach(e);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,K.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){var e;const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(e=this._host)||void 0===e||e.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=(0,_.HM)(this._config.width),e.height=(0,_.HM)(this._config.height),e.minWidth=(0,_.HM)(this._config.minWidth),e.minHeight=(0,_.HM)(this._config.minHeight),e.maxWidth=(0,_.HM)(this._config.maxWidth),e.maxHeight=(0,_.HM)(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(!e)return;let t;const i=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",i),this._disposeBackdrop(e)),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",i)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(i,500))}_toggleClasses(e,t,i){const s=(0,_.Eq)(t||[]).filter(r=>!!r);s.length&&(i?e.classList.add(...s):e.classList.remove(...s))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe((0,x.R)((0,X.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.remove(),this._backdropElement===e&&(this._backdropElement=null))}}let at=(()=>{class o{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){var t;null===(t=this._containerElement)||void 0===t||t.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||(0,f.Oy)()){const s=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let r=0;r<s.length;r++)s[r].remove()}const i=this._document.createElement("div");i.classList.add(t),(0,f.Oy)()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return o.\u0275fac=function(t){return new(t||o)(n.LFG(m.K0),n.LFG(f.t4))},o.\u0275prov=n.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const lt="cdk-overlay-connected-position-bounding-box",Ft=/([A-Za-z%]+)$/;class Nt{constructor(e,t,i,s,r){this._viewportRuler=t,this._document=i,this._platform=s,this._overlayContainer=r,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new N.x,this._resizeSubscription=U.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(lt),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,s=this._containerRect,r=[];let a;for(let h of this._preferredPositions){let c=this._getOriginPoint(e,s,h),u=this._getOverlayPoint(c,t,h),v=this._getOverlayFit(u,t,i,h);if(v.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,c);this._canFitWithFlexibleDimensions(v,u,i)?r.push({position:h,origin:c,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(c,h)}):(!a||a.overlayFit.visibleArea<v.visibleArea)&&(a={overlayFit:v,overlayPoint:u,originPoint:c,position:h,overlayRect:t})}if(r.length){let h=null,c=-1;for(const u of r){const v=u.boundingBoxRect.width*u.boundingBoxRect.height*(u.position.weight||1);v>c&&(c=v,h=u)}return this._isPushed=!1,void this._applyPosition(h.position,h.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(a.position,a.originPoint);this._applyPosition(a.position,a.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&V(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(lt),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let s,r;if("center"==i.originX)s=e.left+e.width/2;else{const a=this._isRtl()?e.right:e.left,h=this._isRtl()?e.left:e.right;s="start"==i.originX?a:h}return t.left<0&&(s-=t.left),r="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(r-=t.top),{x:s,y:r}}_getOverlayPoint(e,t,i){let s,r;return s="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,r="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+s,y:e.y+r}}_getOverlayFit(e,t,i,s){const r=ct(t);let{x:a,y:h}=e,c=this._getOffset(s,"x"),u=this._getOffset(s,"y");c&&(a+=c),u&&(h+=u);let B=0-h,F=h+r.height-i.height,k=this._subtractOverflows(r.width,0-a,a+r.width-i.width),H=this._subtractOverflows(r.height,B,F),z=k*H;return{visibleArea:z,isCompletelyWithinViewport:r.width*r.height===z,fitsInViewportVertically:H===r.height,fitsInViewportHorizontally:k==r.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const s=i.bottom-t.y,r=i.right-t.x,a=ht(this._overlayRef.getConfig().minHeight),h=ht(this._overlayRef.getConfig().minWidth),u=e.fitsInViewportHorizontally||null!=h&&h<=r;return(e.fitsInViewportVertically||null!=a&&a<=s)&&u}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const s=ct(t),r=this._viewportRect,a=Math.max(e.x+s.width-r.width,0),h=Math.max(e.y+s.height-r.height,0),c=Math.max(r.top-i.top-e.y,0),u=Math.max(r.left-i.left-e.x,0);let v=0,b=0;return v=s.width<=r.width?u||-a:e.x<this._viewportMargin?r.left-i.left-e.x:0,b=s.height<=r.height?c||-h:e.y<this._viewportMargin?r.top-i.top-e.y:0,this._previousPushAmount={x:v,y:b},{x:e.x+v,y:e.y+b}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),s=new Lt(e,i);this._positionChanges.next(s)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,s=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let r=0;r<t.length;r++)t[r].style.transformOrigin=`${i} ${s}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,s=this._isRtl();let r,a,h,v,b,B;if("top"===t.overlayY)a=e.y,r=i.height-a+this._viewportMargin;else if("bottom"===t.overlayY)h=i.height-e.y+2*this._viewportMargin,r=i.height-h+this._viewportMargin;else{const F=Math.min(i.bottom-e.y+i.top,e.y),k=this._lastBoundingBoxSize.height;r=2*F,a=e.y-F,r>k&&!this._isInitialRender&&!this._growAfterOpen&&(a=e.y-k/2)}if("end"===t.overlayX&&!s||"start"===t.overlayX&&s)B=i.width-e.x+this._viewportMargin,v=e.x-this._viewportMargin;else if("start"===t.overlayX&&!s||"end"===t.overlayX&&s)b=e.x,v=i.right-e.x;else{const F=Math.min(i.right-e.x+i.left,e.x),k=this._lastBoundingBoxSize.width;v=2*F,b=e.x-F,v>k&&!this._isInitialRender&&!this._growAfterOpen&&(b=e.x-k/2)}return{top:a,left:b,bottom:h,right:B,width:v,height:r}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const s={};if(this._hasExactPosition())s.top=s.left="0",s.bottom=s.right=s.maxHeight=s.maxWidth="",s.width=s.height="100%";else{const r=this._overlayRef.getConfig().maxHeight,a=this._overlayRef.getConfig().maxWidth;s.height=(0,_.HM)(i.height),s.top=(0,_.HM)(i.top),s.bottom=(0,_.HM)(i.bottom),s.width=(0,_.HM)(i.width),s.left=(0,_.HM)(i.left),s.right=(0,_.HM)(i.right),s.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",s.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",r&&(s.maxHeight=(0,_.HM)(r)),a&&(s.maxWidth=(0,_.HM)(a))}this._lastBoundingBoxSize=i,V(this._boundingBox.style,s)}_resetBoundingBoxStyles(){V(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){V(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},s=this._hasExactPosition(),r=this._hasFlexibleDimensions,a=this._overlayRef.getConfig();if(s){const v=this._viewportRuler.getViewportScrollPosition();V(i,this._getExactOverlayY(t,e,v)),V(i,this._getExactOverlayX(t,e,v))}else i.position="static";let h="",c=this._getOffset(t,"x"),u=this._getOffset(t,"y");c&&(h+=`translateX(${c}px) `),u&&(h+=`translateY(${u}px)`),i.transform=h.trim(),a.maxHeight&&(s?i.maxHeight=(0,_.HM)(a.maxHeight):r&&(i.maxHeight="")),a.maxWidth&&(s?i.maxWidth=(0,_.HM)(a.maxWidth):r&&(i.maxWidth="")),V(this._pane.style,i)}_getExactOverlayY(e,t,i){let s={top:"",bottom:""},r=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,i)),"bottom"===e.overlayY?s.bottom=this._document.documentElement.clientHeight-(r.y+this._overlayRect.height)+"px":s.top=(0,_.HM)(r.y),s}_getExactOverlayX(e,t,i){let a,s={left:"",right:""},r=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,i)),a=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===a?s.right=this._document.documentElement.clientWidth-(r.x+this._overlayRect.width)+"px":s.left=(0,_.HM)(r.x),s}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(s=>s.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:ot(e,i),isOriginOutsideView:Q(e,i),isOverlayClipped:ot(t,i),isOverlayOutsideView:Q(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,s)=>i-Math.max(s,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&(0,_.Eq)(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof n.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function V(o,e){for(let t in e)e.hasOwnProperty(t)&&(o[t]=e[t]);return o}function ht(o){if("number"!=typeof o&&null!=o){const[e,t]=o.split(Ft);return t&&"px"!==t?null:parseFloat(e)}return o||null}function ct(o){return{top:Math.floor(o.top),right:Math.floor(o.right),bottom:Math.floor(o.bottom),left:Math.floor(o.left),width:Math.floor(o.width),height:Math.floor(o.height)}}const dt="cdk-global-overlay-wrapper";class Bt{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(dt),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:s,height:r,maxWidth:a,maxHeight:h}=i,c=!("100%"!==s&&"100vw"!==s||a&&"100%"!==a&&"100vw"!==a),u=!("100%"!==r&&"100vh"!==r||h&&"100%"!==h&&"100vh"!==h);e.position=this._cssPosition,e.marginLeft=c?"0":this._leftOffset,e.marginTop=u?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,c?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=u?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(dt),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let Ht=(()=>{class o{constructor(t,i,s,r){this._viewportRuler=t,this._document=i,this._platform=s,this._overlayContainer=r}global(){return new Bt}flexibleConnectedTo(t){return new Nt(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return o.\u0275fac=function(t){return new(t||o)(n.LFG(O.rL),n.LFG(m.K0),n.LFG(f.t4),n.LFG(at))},o.\u0275prov=n.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),_t=(()=>{class o{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return o.\u0275fac=function(t){return new(t||o)(n.LFG(m.K0))},o.\u0275prov=n.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),Yt=(()=>{class o extends _t{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=s=>{const r=this._attachedOverlays;for(let a=r.length-1;a>-1;a--)if(r[a]._keydownEvents.observers.length>0){const h=r[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>h.next(s)):h.next(s);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return o.\u0275fac=function(t){return new(t||o)(n.LFG(m.K0),n.LFG(n.R0b,8))},o.\u0275prov=n.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),Vt=(()=>{class o extends _t{constructor(t,i,s){super(t),this._platform=i,this._ngZone=s,this._cursorStyleIsSet=!1,this._pointerDownListener=r=>{this._pointerDownEventTarget=(0,f.sA)(r)},this._clickListener=r=>{const a=(0,f.sA)(r),h="click"===r.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;const c=this._attachedOverlays.slice();for(let u=c.length-1;u>-1;u--){const v=c[u];if(v._outsidePointerEvents.observers.length<1||!v.hasAttached())continue;if(v.overlayElement.contains(a)||v.overlayElement.contains(h))break;const b=v._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>b.next(r)):b.next(r)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return o.\u0275fac=function(t){return new(t||o)(n.LFG(m.K0),n.LFG(f.t4),n.LFG(n.R0b,8))},o.\u0275prov=n.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),Ut=0,Z=(()=>{class o{constructor(t,i,s,r,a,h,c,u,v,b,B){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=s,this._positionBuilder=r,this._keyboardDispatcher=a,this._injector=h,this._ngZone=c,this._document=u,this._directionality=v,this._location=b,this._outsideClickDispatcher=B}create(t){const i=this._createHostElement(),s=this._createPaneElement(i),r=this._createPortalOutlet(s),a=new rt(t);return a.direction=a.direction||this._directionality.value,new xt(r,i,s,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+Ut++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(n.z2F)),new Dt(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return o.\u0275fac=function(t){return new(t||o)(n.LFG(kt),n.LFG(at),n.LFG(n._Vd),n.LFG(Ht),n.LFG(Yt),n.LFG(n.zs3),n.LFG(n.R0b),n.LFG(m.K0),n.LFG(E.Is),n.LFG(m.Ye),n.LFG(Vt))},o.\u0275prov=n.Yz7({token:o,factory:o.\u0275fac}),o})();const jt=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],pt=new n.OlP("cdk-connected-overlay-scroll-strategy");let ut=(()=>{class o{constructor(t){this.elementRef=t}}return o.\u0275fac=function(t){return new(t||o)(n.Y36(n.SBq))},o.\u0275dir=n.lG2({type:o,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),o})(),ft=(()=>{class o{constructor(t,i,s,r,a){this._overlay=t,this._dir=a,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=U.w0.EMPTY,this._attachSubscription=U.w0.EMPTY,this._detachSubscription=U.w0.EMPTY,this._positionSubscription=U.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new n.vpe,this.positionChange=new n.vpe,this.attach=new n.vpe,this.detach=new n.vpe,this.overlayKeydown=new n.vpe,this.overlayOutsideClick=new n.vpe,this._templatePortal=new A(i,s),this._scrollStrategyFactory=r,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=(0,_.Ig)(t)}get lockPosition(){return this._lockPosition}set lockPosition(t){this._lockPosition=(0,_.Ig)(t)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(t){this._flexibleDimensions=(0,_.Ig)(t)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(t){this._growAfterOpen=(0,_.Ig)(t)}get push(){return this._push}set push(t){this._push=(0,_.Ig)(t)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=jt);const t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),i.keyCode===R.hY&&!this.disableClose&&!(0,R.Vb)(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),i=new rt({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(t){const i=this.positions.map(s=>({originX:s.originX,originY:s.originY,overlayX:s.overlayX,overlayY:s.overlayY,offsetX:s.offsetX||this.offsetX,offsetY:s.offsetY||this.offsetY,panelClass:s.panelClass||void 0}));return t.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(t),t}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof ut?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function Pt(o,e=!1){return(0,Rt.e)((t,i)=>{let s=0;t.subscribe(new Mt.Q(i,r=>{const a=o(r,s++);(a||e)&&i.next(r),!a&&i.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(t=>{this.positionChange.emit(t),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return o.\u0275fac=function(t){return new(t||o)(n.Y36(Z),n.Y36(n.Rgc),n.Y36(n.s_b),n.Y36(pt),n.Y36(E.Is,8))},o.\u0275dir=n.lG2({type:o,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[n.TTD]}),o})();const Wt={provide:pt,deps:[Z],useFactory:function zt(o){return()=>o.scrollStrategies.reposition()}};let Gt=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=n.oAB({type:o}),o.\u0275inj=n.cJS({providers:[Z,Wt],imports:[[E.vT,wt,O.Cl],O.Cl]}),o})();var M=d(508),q=d(3489),gt=d(8255),Xt=d(449),$=d(2382),Kt=d(9770),vt=d(8675),mt=d(3900),yt=d(9300),Ot=d(4004),Zt=d(1884),w=d(1777);const $t=["trigger"],Jt=["panel"];function Qt(o,e){if(1&o&&(n.TgZ(0,"span",8),n._uU(1),n.qZA()),2&o){const t=n.oxw();n.xp6(1),n.Oqu(t.placeholder)}}function qt(o,e){if(1&o&&(n.TgZ(0,"span",12),n._uU(1),n.qZA()),2&o){const t=n.oxw(2);n.xp6(1),n.Oqu(t.triggerValue)}}function te(o,e){1&o&&n.Hsn(0,0,["*ngSwitchCase","true"])}function ee(o,e){if(1&o&&(n.TgZ(0,"span",9),n.YNc(1,qt,2,1,"span",10),n.YNc(2,te,1,0,"ng-content",11),n.qZA()),2&o){const t=n.oxw();n.Q6J("ngSwitch",!!t.customTrigger),n.xp6(2),n.Q6J("ngSwitchCase",!0)}}function ie(o,e){if(1&o){const t=n.EpF();n.TgZ(0,"div",13),n.TgZ(1,"div",14,15),n.NdJ("@transformPanel.done",function(s){return n.CHM(t),n.oxw()._panelDoneAnimatingStream.next(s.toState)})("keydown",function(s){return n.CHM(t),n.oxw()._handleKeydown(s)}),n.Hsn(3,1),n.qZA(),n.qZA()}if(2&o){const t=n.oxw();n.Q6J("@transformPanelWrap",void 0),n.xp6(1),n.Gre("mat-select-panel ",t._getPanelTheme(),""),n.Udp("transform-origin",t._transformOrigin)("font-size",t._triggerFontSize,"px"),n.Q6J("ngClass",t.panelClass)("@transformPanel",t.multiple?"showing-multiple":"showing"),n.uIk("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}const se=[[["mat-select-trigger"]],"*"],ne=["mat-select-trigger","*"],Ct={transformPanelWrap:(0,w.X$)("transformPanelWrap",[(0,w.eR)("* => void",(0,w.IO)("@transformPanel",[(0,w.pV)()],{optional:!0}))]),transformPanel:(0,w.X$)("transformPanel",[(0,w.SB)("void",(0,w.oB)({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),(0,w.SB)("showing",(0,w.oB)({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),(0,w.SB)("showing-multiple",(0,w.oB)({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),(0,w.eR)("void => *",(0,w.jt)("120ms cubic-bezier(0, 0, 0.2, 1)")),(0,w.eR)("* => void",(0,w.jt)("100ms 25ms linear",(0,w.oB)({opacity:0})))])};let Et=0;const G=256,bt=new n.OlP("mat-select-scroll-strategy"),le=new n.OlP("MAT_SELECT_CONFIG"),he={provide:bt,deps:[Z],useFactory:function ae(o){return()=>o.scrollStrategies.reposition()}};class ce{constructor(e,t){this.source=e,this.value=t}}const de=(0,M.Kr)((0,M.sb)((0,M.Id)((0,M.FD)(class{constructor(o,e,t,i,s){this._elementRef=o,this._defaultErrorStateMatcher=e,this._parentForm=t,this._parentFormGroup=i,this.ngControl=s}})))),_e=new n.OlP("MatSelectTrigger");let pe=(()=>{class o extends de{constructor(t,i,s,r,a,h,c,u,v,b,B,F,k,H){var z,tt,et;super(a,r,c,u,b),this._viewportRuler=t,this._changeDetectorRef=i,this._ngZone=s,this._dir=h,this._parentFormField=v,this._liveAnnouncer=k,this._defaultOptions=H,this._panelOpen=!1,this._compareWith=(L,it)=>L===it,this._uid="mat-select-"+Et++,this._triggerAriaLabelledBy=null,this._destroy=new N.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+Et++,this._panelDoneAnimatingStream=new N.x,this._overlayPanelClass=(null===(z=this._defaultOptions)||void 0===z?void 0:z.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=null!==(et=null===(tt=this._defaultOptions)||void 0===tt?void 0:tt.disableOptionCentering)&&void 0!==et&&et,this.ariaLabel="",this.optionSelectionChanges=(0,Kt.P)(()=>{const L=this.options;return L?L.changes.pipe((0,vt.O)(L),(0,mt.w)(()=>(0,X.T)(...L.map(it=>it.onSelectionChange)))):this._ngZone.onStable.pipe((0,K.q)(1),(0,mt.w)(()=>this.optionSelectionChanges))}),this.openedChange=new n.vpe,this._openedStream=this.openedChange.pipe((0,yt.h)(L=>L),(0,Ot.U)(()=>{})),this._closedStream=this.openedChange.pipe((0,yt.h)(L=>!L),(0,Ot.U)(()=>{})),this.selectionChange=new n.vpe,this.valueChange=new n.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==H?void 0:H.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=H.typeaheadDebounceInterval),this._scrollStrategyFactory=F,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(B)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){var t,i,s,r;return null!==(r=null!==(t=this._required)&&void 0!==t?t:null===(s=null===(i=this.ngControl)||void 0===i?void 0:i.control)||void 0===s?void 0:s.hasValidator($.kI.required))&&void 0!==r&&r}set required(t){this._required=(0,_.Ig)(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._multiple=(0,_.Ig)(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=(0,_.Ig)(t)}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){(t!==this._value||this._multiple&&Array.isArray(t))&&(this.options&&this._setSelectionByValue(t),this._value=t)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(t){this._typeaheadDebounceInterval=(0,_.su)(t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new Xt.Ov(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,Zt.x)(),(0,x.R)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe((0,x.R)(this._destroy)).subscribe(t=>{t.added.forEach(i=>i.select()),t.removed.forEach(i=>i.deselect())}),this.options.changes.pipe((0,vt.O)(null),(0,x.R)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const t=this._getTriggerAriaLabelledby();if(t!==this._triggerAriaLabelledBy){const i=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?i.setAttribute("aria-labelledby",t):i.removeAttribute("aria-labelledby")}this.ngControl&&this.updateErrorState()}ngOnChanges(t){t.disabled&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this.value=t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){var t,i;return this.multiple?(null===(t=this._selectionModel)||void 0===t?void 0:t.selected)||[]:null===(i=this._selectionModel)||void 0===i?void 0:i.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const i=t.keyCode,s=i===R.JH||i===R.LH||i===R.oh||i===R.SV,r=i===R.K5||i===R.L_,a=this._keyManager;if(!a.isTyping()&&r&&!(0,R.Vb)(t)||(this.multiple||t.altKey)&&s)t.preventDefault(),this.open();else if(!this.multiple){const h=this.selected;a.onKeydown(t);const c=this.selected;c&&h!==c&&this._liveAnnouncer.announce(c.viewValue,1e4)}}_handleOpenKeydown(t){const i=this._keyManager,s=t.keyCode,r=s===R.JH||s===R.LH,a=i.isTyping();if(r&&t.altKey)t.preventDefault(),this.close();else if(a||s!==R.K5&&s!==R.L_||!i.activeItem||(0,R.Vb)(t))if(!a&&this._multiple&&s===R.A&&t.ctrlKey){t.preventDefault();const h=this.options.some(c=>!c.disabled&&!c.selected);this.options.forEach(c=>{c.disabled||(h?c.select():c.deselect())})}else{const h=i.activeItemIndex;i.onKeydown(t),this._multiple&&r&&t.shiftKey&&i.activeItem&&i.activeItemIndex!==h&&i.activeItem._selectViaInteraction()}else t.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,K.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this._selectionModel.selected.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(i=>this._selectValue(i)),this._sortValues();else{const i=this._selectValue(t);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(t){const i=this.options.find(s=>{if(this._selectionModel.isSelected(s))return!1;try{return null!=s.value&&this._compareWith(s.value,t)}catch(r){return!1}});return i&&this._selectionModel.select(i),i}_initKeyManager(){this._keyManager=new gt.s1(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe((0,x.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe((0,x.R)(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=(0,X.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe((0,x.R)(t)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,X.T)(...this.options.map(i=>i._stateChanges)).pipe((0,x.R)(t)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(t,i){const s=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(s!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),i&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),i&&this.focus())):(t.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(t.value)),s!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((i,s)=>this.sortComparator?this.sortComparator(i,s,t):t.indexOf(i)-t.indexOf(s)),this.stateChanges.next()}}_propagateChanges(t){let i=null;i=this.multiple?this.selected.map(s=>s.value):this.selected?this.selected.value:t,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var t;return!this._panelOpen&&!this.disabled&&(null===(t=this.options)||void 0===t?void 0:t.length)>0}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){var t;if(this.ariaLabel)return null;const i=null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId();return this.ariaLabelledby?(i?i+" ":"")+this.ariaLabelledby:i}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var t;if(this.ariaLabel)return null;const i=null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId();let s=(i?i+" ":"")+this._valueId;return this.ariaLabelledby&&(s+=" "+this.ariaLabelledby),s}_panelDoneAnimating(t){this.openedChange.emit(t)}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return o.\u0275fac=function(t){return new(t||o)(n.Y36(O.rL),n.Y36(n.sBO),n.Y36(n.R0b),n.Y36(M.rD),n.Y36(n.SBq),n.Y36(E.Is,8),n.Y36($.F,8),n.Y36($.sg,8),n.Y36(q.G_,8),n.Y36($.a5,10),n.$8M("tabindex"),n.Y36(bt),n.Y36(gt.Kd),n.Y36(le,8))},o.\u0275dir=n.lG2({type:o,viewQuery:function(t,i){if(1&t&&(n.Gf($t,5),n.Gf(Jt,5),n.Gf(ft,5)),2&t){let s;n.iGM(s=n.CRH())&&(i.trigger=s.first),n.iGM(s=n.CRH())&&(i.panel=s.first),n.iGM(s=n.CRH())&&(i._overlayDir=s.first)}},inputs:{panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[n.qOj,n.TTD]}),o})(),ue=(()=>{class o extends pe{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(t,i,s){const r=this._getItemHeight();return Math.min(Math.max(0,r*t-i+r/2),s)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe((0,x.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe((0,K.q)(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(t){const i=(0,M.CB)(t,this.options,this.optionGroups),s=this._getItemHeight();this.panel.nativeElement.scrollTop=0===t&&1===i?0:(0,M.jH)((t+i)*s,s,this.panel.nativeElement.scrollTop,G)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(t){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(t)}_getChangeEvent(t){return new ce(this,t)}_calculateOverlayOffsetX(){const t=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),i=this._viewportRuler.getViewportSize(),s=this._isRtl(),r=this.multiple?56:32;let a;if(this.multiple)a=40;else if(this.disableOptionCentering)a=16;else{let u=this._selectionModel.selected[0]||this.options.first;a=u&&u.group?32:16}s||(a*=-1);const h=0-(t.left+a-(s?r:0)),c=t.right+a-i.width+(s?0:r);h>0?a+=h+8:c>0&&(a-=c+8),this._overlayDir.offsetX=Math.round(a),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(t,i,s){const r=this._getItemHeight(),a=(r-this._triggerRect.height)/2,h=Math.floor(G/r);let c;return this.disableOptionCentering?0:(c=0===this._scrollTop?t*r:this._scrollTop===s?(t-(this._getItemCount()-h))*r+(r-(this._getItemCount()*r-G)%r):i-r/2,Math.round(-1*c-a))}_checkOverlayWithinViewport(t){const i=this._getItemHeight(),s=this._viewportRuler.getViewportSize(),r=this._triggerRect.top-8,a=s.height-this._triggerRect.bottom-8,h=Math.abs(this._offsetY),u=Math.min(this._getItemCount()*i,G)-h-this._triggerRect.height;u>a?this._adjustPanelUp(u,a):h>r?this._adjustPanelDown(h,r,t):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(t,i){const s=Math.round(t-i);this._scrollTop-=s,this._offsetY-=s,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(t,i,s){const r=Math.round(t-i);if(this._scrollTop+=r,this._offsetY+=r,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=s)return this._scrollTop=s,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const t=this._getItemHeight(),i=this._getItemCount(),s=Math.min(i*t,G),a=i*t-s;let h;h=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),h+=(0,M.CB)(h,this.options,this.optionGroups);const c=s/2;this._scrollTop=this._calculateOverlayScroll(h,c,a),this._offsetY=this._calculateOverlayOffsetY(h,c,a),this._checkOverlayWithinViewport(a)}_getOriginBasedOnOption(){const t=this._getItemHeight(),i=(t-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-i+t/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return o.\u0275fac=function(){let e;return function(i){return(e||(e=n.n5z(o)))(i||o)}}(),o.\u0275cmp=n.Xpm({type:o,selectors:[["mat-select"]],contentQueries:function(t,i,s){if(1&t&&(n.Suo(s,_e,5),n.Suo(s,M.ey,5),n.Suo(s,M.K7,5)),2&t){let r;n.iGM(r=n.CRH())&&(i.customTrigger=r.first),n.iGM(r=n.CRH())&&(i.options=r),n.iGM(r=n.CRH())&&(i.optionGroups=r)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(t,i){1&t&&n.NdJ("keydown",function(r){return i._handleKeydown(r)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),2&t&&(n.uIk("id",i.id)("tabindex",i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-describedby",i._ariaDescribedby||null)("aria-activedescendant",i._getAriaActiveDescendant()),n.ekj("mat-select-disabled",i.disabled)("mat-select-invalid",i.errorState)("mat-select-required",i.required)("mat-select-empty",i.empty)("mat-select-multiple",i.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[n._Bn([{provide:q.Eo,useExisting:o},{provide:M.HF,useExisting:o}]),n.qOj],ngContentSelectors:ne,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(t,i){if(1&t&&(n.F$t(se),n.TgZ(0,"div",0,1),n.NdJ("click",function(){return i.toggle()}),n.TgZ(3,"div",2),n.YNc(4,Qt,2,1,"span",3),n.YNc(5,ee,3,2,"span",4),n.qZA(),n.TgZ(6,"div",5),n._UZ(7,"div",6),n.qZA(),n.qZA(),n.YNc(8,ie,4,14,"ng-template",7),n.NdJ("backdropClick",function(){return i.close()})("attach",function(){return i._onAttached()})("detach",function(){return i.close()})),2&t){const s=n.MAs(1);n.uIk("aria-owns",i.panelOpen?i.id+"-panel":null),n.xp6(3),n.Q6J("ngSwitch",i.empty),n.uIk("id",i._valueId),n.xp6(1),n.Q6J("ngSwitchCase",!0),n.xp6(1),n.Q6J("ngSwitchCase",!1),n.xp6(3),n.Q6J("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",s)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayMinWidth",null==i._triggerRect?null:i._triggerRect.width)("cdkConnectedOverlayOffsetY",i._offsetY)}},directives:[ut,m.RF,m.n9,m.ED,ft,m.mk],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;opacity:0}\n'],encapsulation:2,data:{animation:[Ct.transformPanelWrap,Ct.transformPanel]},changeDetection:0}),o})(),fe=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=n.oAB({type:o}),o.\u0275inj=n.cJS({providers:[he],imports:[[m.ez,Gt,M.Ng,M.BQ],O.ZD,q.lN,M.Ng,M.BQ]}),o})()}}]);