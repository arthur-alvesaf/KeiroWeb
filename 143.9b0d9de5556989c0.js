"use strict";(self.webpackChunkalasta_ui=self.webpackChunkalasta_ui||[]).push([[143],{76:(D,S,a)=>{a.d(S,{S:()=>m});var t=a(1571),e=a(6895);function h(p,v){if(1&p&&(t.TgZ(0,"p",6),t._uU(1),t.qZA()),2&p){const g=t.oxw();t.xp6(1),t.Oqu(g.context)}}function c(p,v){1&p&&(t.TgZ(0,"p")(1,"strong"),t._uU(2,"This action cannot be undone."),t.qZA()())}let m=(()=>{class p{constructor(){this.modalHeader="Delete?",this.context="",this.confirmationPrompt="Are you sure you want to delete?",this.canUndo=!1,this.rejectButtonText="Cancel",this.confirmButtonIconClasses="fa fa-trash-alt",this.confirmButtonText="Delete",this.onConfirm=new t.vpe,this.onReject=new t.vpe}reject(){this.onReject.emit()}confirm(){this.onConfirm.emit()}}return p.\u0275fac=function(g){return new(g||p)},p.\u0275cmp=t.Xpm({type:p,selectors:[["app-shared-confirmation"]],inputs:{modalHeader:"modalHeader",context:"context",confirmationPrompt:"confirmationPrompt",canUndo:"canUndo",rejectButtonText:"rejectButtonText",confirmButtonIconClasses:"confirmButtonIconClasses",confirmButtonText:"confirmButtonText"},outputs:{onConfirm:"onConfirm",onReject:"onReject"},decls:20,vars:7,consts:[[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"close","pull-right",3,"click"],["aria-hidden","true"],[1,"modal-body","text-center"],["class","my-3",4,"ngIf"],[1,"my-3"],[4,"ngIf"],[1,"modal-footer"],[1,"text-right"],[1,"btn","btn-danger",3,"click"],["aria-hidden","true",3,"ngClass"],[1,"btn","btn-primary","ml-1",3,"click"],["aria-hidden","true",1,"fa","fa-times"]],template:function(g,_){1&g&&(t.TgZ(0,"div",0)(1,"h4",1)(2,"span"),t._uU(3),t.qZA()(),t.TgZ(4,"button",2),t.NdJ("click",function(){return _.reject()}),t.TgZ(5,"span",3),t._uU(6,"\xd7"),t.qZA()()(),t.TgZ(7,"div",4),t.YNc(8,h,2,1,"p",5),t.TgZ(9,"p",6),t._uU(10),t.qZA(),t.YNc(11,c,3,0,"p",7),t.qZA(),t.TgZ(12,"div",8)(13,"div",9)(14,"button",10),t.NdJ("click",function(){return _.confirm()}),t._UZ(15,"i",11),t._uU(16),t.qZA(),t.TgZ(17,"button",12),t.NdJ("click",function(){return _.reject()}),t._UZ(18,"i",13),t._uU(19),t.qZA()()()),2&g&&(t.xp6(3),t.Oqu(_.modalHeader),t.xp6(5),t.Q6J("ngIf",_.context),t.xp6(2),t.Oqu(_.confirmationPrompt),t.xp6(1),t.Q6J("ngIf",!_.canUndo),t.xp6(4),t.Q6J("ngClass",_.confirmButtonIconClasses),t.xp6(1),t.hij(" ",_.confirmButtonText," "),t.xp6(3),t.hij(" ",_.rejectButtonText," "))},dependencies:[e.mk,e.O5],encapsulation:2}),p})()},1892:(D,S,a)=>{a.d(S,{C:()=>h});var t=a(6895),e=a(1571);let h=(()=>{class c{}return c.\u0275fac=function(p){return new(p||c)},c.\u0275mod=e.oAB({type:c}),c.\u0275inj=e.cJS({imports:[t.ez]}),c})()},6433:(D,S,a)=>{a.d(S,{S:()=>ae});var t=a(5861),e=a(1571),h=a(433),c=a(727),m=a(9147),p=a(625),v=a(2733),g=a(3113),_=a(171),y=a(8283),b=a(8372),O=a(9649),U=a(4789),R=a(793),N=a(805);const F=["searchInput"];function k(s,E){1&s&&(e.TgZ(0,"tr"),e._UZ(1,"th",11),e.TgZ(2,"th"),e._uU(3,"Name"),e.qZA(),e.TgZ(4,"th"),e._uU(5,"Position"),e.qZA(),e.TgZ(6,"th"),e._uU(7,"Property"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"Nationality"),e.qZA(),e.TgZ(10,"th"),e._uU(11,"Email"),e.qZA()())}function L(s,E){if(1&s&&(e.TgZ(0,"tr",12)(1,"td"),e._UZ(2,"p-tableRadioButton"),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA()()),2&s){const n=E.$implicit;e.Q6J("pSelectableRow",n),e.xp6(4),e.AsE("",n.talentName.given," ",n.talentName.last,""),e.xp6(2),e.Oqu(n.position||""),e.xp6(2),e.Oqu(n.property||""),e.xp6(2),e.Oqu(n.nationality),e.xp6(2),e.Oqu(n.accountEmail)}}let w=(()=>{class s{constructor(n,l){this.talentsManagementApi=n,this.modalsController=l,this.searchInputControl=new h.p4,this.subscriptions=new c.w0,this.total=0,this.page=0,this.step=10,this.rows=[],this.loadingIndicator=!1,this.onSelectTalent=new e.vpe,this.subscriptions.add(this.searchInputControl.valueChanges.pipe((0,b.b)(350)).subscribe(f=>{this.searchInputControl.valid&&this.fetchTalentsWithSearch()}))}ngAfterViewInit(){this.input?.nativeElement.focus()}setPage(n){this.step=n.rows,this.page=Math.floor(n.first/n.rows),this.fetchTalentsWithSearch()}fetchTalentsWithSearch(){this.talentsManagementApi.findTalentsFilterSearch(this.step,this.page+1,this.searchInputControl.value).then(n=>{this.rows=n.talents,this.total=n.total})}}return s.\u0275fac=function(n){return new(n||s)(e.Y36(O.C),e.Y36(v.l))},s.\u0275cmp=e.Xpm({type:s,selectors:[["keiro-talents-table"]],viewQuery:function(n,l){if(1&n&&e.Gf(F,5),2&n){let f;e.iGM(f=e.CRH())&&(l.input=f.first)}},outputs:{onSelectTalent:"onSelectTalent"},decls:15,vars:7,consts:[[1,"form-row","justify-content-end"],[1,"col","mb-1"],[1,"has-search"],[1,"fa","fa-search","has-search-icon"],["type","text","placeholder","Search by name, email, or Keiro ID",1,"form-control",3,"formControl"],["searchInput",""],["selectionMode","single","styleClass","p-datatable-sm","responsiveLayout","scroll",3,"value","lazy","loading","paginator","rows","totalRecords","onLazyLoad","selectionChange"],["pTemplate","header"],["pTemplate","body"],["routerLink","/app/talent/create",1,"btn","btn-sm","btn-secondary",3,"click"],["aria-hidden","true",1,"fa","fa-user-plus"],[2,"width","3rem"],[3,"pSelectableRow"]],template:function(n,l){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"span",3)(4,"input",4,5),e.qZA()()(),e.TgZ(6,"p-table",6),e.NdJ("onLazyLoad",function(C){return l.setPage(C)})("selectionChange",function(C){return l.onSelectTalent.emit(C)}),e.YNc(7,k,12,0,"ng-template",7),e.YNc(8,L,13,7,"ng-template",8),e.qZA(),e.TgZ(9,"p"),e._uU(10," Is the Talent you're looking for not in the list?"),e._UZ(11,"br"),e.TgZ(12,"a",9),e.NdJ("click",function(){return l.modalsController.closeAllModals()}),e._UZ(13,"i",10),e._uU(14," Click here to create a new Talent profile "),e.qZA()()),2&n&&(e.xp6(4),e.Q6J("formControl",l.searchInputControl),e.xp6(2),e.Q6J("value",l.rows)("lazy",!0)("loading",l.loadingIndicator)("paginator",!0)("rows",l.step)("totalRecords",l.total))},dependencies:[U.yS,h.Fj,h.JJ,h.oH,R.iA,N.jx,R.Ei,R.GE],styles:[".has-search[_ngcontent-%COMP%] > .form-control[_ngcontent-%COMP%]{padding-left:2.375rem}.has-search[_ngcontent-%COMP%] > .has-search-icon[_ngcontent-%COMP%]{position:absolute;z-index:2;display:block;width:2.375rem;height:2.375rem;line-height:2.375rem;text-align:center;pointer-events:none;color:#aaa}"]}),s})();var J=a(6895),H=a(2210),P=a(585),Q=a(5593),j=a(1740),V=a(3054),B=a(1507),Y=a(2962);function q(s,E){1&s&&(e.TgZ(0,"span"),e._uU(1,"Assign talent to job"),e.qZA())}function d(s,E){1&s&&e._uU(0,"Edit employment information")}function A(s,E){if(1&s){const n=e.EpF();e.TgZ(0,"button",27),e.NdJ("click",function(){e.CHM(n);const f=e.oxw(2),C=e.MAs(35);return e.KtG(f.modalsControllerService.openModal(C,{class:"modal-lg"}))}),e._uU(1," Choose Talent "),e.qZA()}}function o(s,E){if(1&s){const n=e.EpF();e.TgZ(0,"button",31),e.NdJ("click",function(){e.CHM(n);const f=e.oxw(3);return e.KtG(f.clearTalentFromForm())}),e.qZA()}}function u(s,E){if(1&s&&(e.TgZ(0,"div",28),e._UZ(1,"input",29),e.YNc(2,o,1,0,"button",30),e.qZA()),2&s){const n=e.oxw(2);e.xp6(1),e.Q6J("disabled",!0)("value",(null==n.currentlySelectedTalent||null==n.currentlySelectedTalent.talentName?null:n.currentlySelectedTalent.talentName.given)+" "+(null==n.currentlySelectedTalent||null==n.currentlySelectedTalent.talentName?null:n.currentlySelectedTalent.talentName.last)),e.xp6(1),e.Q6J("ngIf",n.addingEmployment)}}const M=function(s){return["/app/talent/view/",s]};function i(s,E){if(1&s){const n=e.EpF();e.TgZ(0,"div",32),e._uU(1," This talent has history, "),e.TgZ(2,"a",33),e.NdJ("click",function(){e.CHM(n);const f=e.oxw(2);return e.KtG(f.modalsControllerService.closeUpperModal())}),e._uU(3,"click here to view profile"),e.qZA()()}if(2&s){const n=e.oxw(2);e.xp6(2),e.Q6J("routerLink",e.VKq(1,M,null==n.currentlySelectedTalent?null:n.currentlySelectedTalent.talentId))}}function T(s,E){1&s&&(e.TgZ(0,"div",34),e._uU(1," This job coincides with the last previously known work information for this talent. "),e._UZ(2,"br"),e._uU(3,"We have autocompleted the date for you. "),e.qZA())}const r=function(s){return["/","app","talent","view",s]};function Z(s,E){if(1&s&&(e.TgZ(0,"div",32),e._uU(1," This job "),e.TgZ(2,"strong"),e._uU(3,"does not"),e.qZA(),e._uU(4," coincide with the last previously known work information for this talent. "),e._UZ(5,"br"),e._uU(6,"Please validate if this information is correct before proceeding. "),e.TgZ(7,"a",35),e._UZ(8,"i",36),e._uU(9,"View talent in new tab "),e.qZA()()),2&s){const n=e.oxw(2);e.xp6(7),e.Q6J("routerLink",e.VKq(1,r,null==n.currentlySelectedTalent?null:n.currentlySelectedTalent.talentId))}}function I(s,E){if(1&s&&(e.TgZ(0,"div",19)(1,"h6",7),e._uU(2,"End Date"),e.qZA(),e.TgZ(3,"div",20),e._UZ(4,"p-calendar",37),e.qZA()()),2&s){const n=e.oxw(2);e.xp6(4),e.Q6J("showIcon",!0)("minDate",(null==n.existing?null:n.existing.from)||n.today)("maxDate",n.today)}}function K(s,E){if(1&s&&(e.TgZ(0,"div",40)(1,"span"),e._uU(2),e.qZA()()),2&s){const n=E.$implicit;e.xp6(2),e.Oqu(n.label)}}function W(s,E){if(1&s&&(e.TgZ(0,"div",19)(1,"h6",7),e._uU(2,"End Reason"),e.qZA(),e.TgZ(3,"div",20)(4,"p-dropdown",38),e.YNc(5,K,3,1,"ng-template",39),e.qZA()()()),2&s){const n=e.oxw(2);e.xp6(4),e.Q6J("options",n.endStatusOptions)("autoDisplayFirst",!1)("group",!0)}}function z(s,E){1&s&&(e.TgZ(0,"div",19)(1,"h6",7),e._uU(2,"Notes"),e.qZA(),e.TgZ(3,"div",20),e._UZ(4,"textarea",41),e.qZA()())}function G(s,E){if(1&s&&(e.TgZ(0,"form",18)(1,"div",19)(2,"h6",7),e._uU(3,"Talent"),e.qZA(),e.TgZ(4,"div",20),e.YNc(5,A,2,0,"button",21),e.YNc(6,u,3,3,"div",22),e.qZA(),e.YNc(7,i,4,3,"div",23),e.qZA(),e.TgZ(8,"div",19)(9,"h6",7),e._uU(10,"Start Date"),e.qZA(),e.TgZ(11,"div",20),e._UZ(12,"p-calendar",24),e.qZA(),e.YNc(13,T,4,0,"div",25),e.YNc(14,Z,10,3,"div",23),e.qZA(),e.YNc(15,I,5,3,"div",26),e.YNc(16,W,6,3,"div",26),e.YNc(17,z,5,0,"div",26),e.qZA()),2&s){const n=e.oxw();e.Q6J("formGroup",n.createEmploymentForm),e.xp6(5),e.Q6J("ngIf",!n.talentIsSelected),e.xp6(1),e.Q6J("ngIf",n.talentIsSelected),e.xp6(1),e.Q6J("ngIf",n.currentlySelectedTalent&&n.warnAboutSelectedTalent),e.xp6(5),e.Q6J("showIcon",!0)("maxDate",n.today),e.xp6(1),e.Q6J("ngIf",n.selectedTalentOnTrack),e.xp6(1),e.Q6J("ngIf",n.selectedTalentNotOnTrack),e.xp6(1),e.Q6J("ngIf",n.editingEndedEmployment),e.xp6(1),e.Q6J("ngIf",n.editingEndedEmployment),e.xp6(1),e.Q6J("ngIf",n.editingEndedEmployment)}}function $(s,E){1&s&&e._UZ(0,"app-shared-icon-tooltip",46)}function X(s,E){if(1&s){const n=e.EpF();e.TgZ(0,"keiro-account-form",47),e.NdJ("statusChanges",function(f){e.CHM(n);const C=e.oxw(2);return e.KtG(C.formStatusChange(f))})("valueChanges",function(f){e.CHM(n);const C=e.oxw(2);return e.KtG(C.formValueChange(f))}),e.qZA()}if(2&s){const n=e.oxw(2);e.Q6J("initialValue",null==n.selectedTalent?null:n.selectedTalent.account)("canCreateRoles",n.canCreateRoles)}}function ee(s,E){if(1&s&&(e.TgZ(0,"div")(1,"div",42)(2,"div",48)(3,"h6"),e._uU(4,"Login email address"),e.qZA(),e.TgZ(5,"p"),e._uU(6),e.qZA()(),e.TgZ(7,"div",48)(8,"h6"),e._uU(9,"Keiro access level"),e.qZA(),e.TgZ(10,"p"),e._uU(11),e.ALo(12,"roleName"),e.qZA()()()()),2&s){const n=e.oxw(2);e.xp6(6),e.hij(" ",null==n.selectedTalent||null==n.selectedTalent.account?null:n.selectedTalent.account.email," "),e.xp6(5),e.Oqu(e.lcZ(12,2,null==n.selectedTalent||null==n.selectedTalent.account?null:n.selectedTalent.account.role))}}function te(s,E){if(1&s&&(e.TgZ(0,"div"),e._UZ(1,"br"),e.TgZ(2,"div",42)(3,"h5",43),e._uU(4,"Account info"),e.qZA(),e.YNc(5,$,1,0,"app-shared-icon-tooltip",44),e.qZA(),e.TgZ(6,"div"),e.YNc(7,X,1,2,"keiro-account-form",45),e.YNc(8,ee,13,4,"div",10),e.qZA()()),2&s){const n=e.oxw();e.xp6(5),e.Q6J("ngIf",n.canEditAccount),e.xp6(2),e.Q6J("ngIf",n.canEditAccount),e.xp6(1),e.Q6J("ngIf",!n.canEditAccount)}}function ne(s,E){1&s&&(e.TgZ(0,"span"),e._UZ(1,"i",49),e._uU(2," Assign talent "),e.qZA())}function oe(s,E){1&s&&(e._UZ(0,"i",50),e._uU(1," Edit employment "))}function ie(s,E){if(1&s){const n=e.EpF();e.TgZ(0,"div",0)(1,"h4",1)(2,"span"),e._uU(3,"Talent Search"),e.qZA()(),e.TgZ(4,"button",4),e.NdJ("click",function(){e.CHM(n);const f=e.oxw();return e.KtG(f.modalsControllerService.closeUpperModal())}),e.TgZ(5,"span",5),e._uU(6,"\xd7"),e.qZA()()(),e.TgZ(7,"div",6)(8,"keiro-talents-table",51),e.NdJ("onSelectTalent",function(f){e.CHM(n);const C=e.oxw();return e.KtG(C.selectTalent(f))}),e.qZA()(),e.TgZ(9,"div",11)(10,"div",12)(11,"button",52),e.NdJ("click",function(){e.CHM(n);const f=e.oxw();return f.clearTalentFromForm(),e.KtG(f.modalsControllerService.closeUpperModal())}),e._UZ(12,"i",14),e._uU(13," Cancel "),e.qZA(),e.TgZ(14,"button",53),e.NdJ("click",function(){e.CHM(n);const f=e.oxw();return e.KtG(f.modalsControllerService.closeUpperModal())}),e._UZ(15,"i",54),e._uU(16," Select "),e.qZA()()()}}let ae=(()=>{class s{constructor(n,l,f,C,le,se){this.fb=n,this.modalsControllerService=l,this.employmentServiceApi=f,this.roleNamePipe=C,this.authStateService=le,this.accountServiceApi=se,this.addingEmployment=!0,this.editingEndedEmployment=!1,this.selectedTalentOnTrack=!1,this.selectedTalentNotOnTrack=!1,this.onSumbit=new e.vpe,this.onCloseModal=new e.vpe,this.talentHasAccount=!1,this.canEditAccount=!1,this.formValid=!1,this.onlyRoleChange=!1,this.processing=!1,this.warnAboutSelectedTalent=!1,this.endStatusOptions=[{label:"Change of job",items:[m.Vg.CHANGE_PROMOTION,m.Vg.CHANGE_LATERAL_MOVEMENT,m.Vg.CHANGE_TRANSFER_SAME_POSITION,m.Vg.CHANGE_TRANSFER_PROMOTION].map(x=>({label:m.ub.statusNameMap.get(x),value:x}))},{label:"Voluntary dismissals",items:[m.Vg.DISMISSAL_VOLUNTARY_ABSENTEEISM,m.Vg.DISMISSAL_VOLUNTARY_ABANDONMENT,m.Vg.DISMISSAL_VOLUNTARY_RETIREMENT,m.Vg.DISMISSAL_VOLUNTARY_BETTER_OFFER,m.Vg.DISMISSAL_VOLUNTARY_PERSONAL].map(x=>({label:m.ub.statusNameMap.get(x),value:x}))},{label:"Forced dismissals",items:[m.Vg.DISMISSAL_FORCED_END_OF_CONTRACT,m.Vg.DISMISSAL_FORCED_DISEASE,m.Vg.DISMISSAL_FORCED_DEATH,m.Vg.DISMISSAL_FORCED_LOW_PERFORMANCE,m.Vg.DISMISSAL_FORCED_INAPROPIATE_BEHAVIORS,m.Vg.DISMISSAL_FORCED_OTHERS].map(x=>({label:m.ub.statusNameMap.get(x),value:x}))}],this.today=new Date,this.subscriptions=new c.w0,this.subscriptions.add(this.authStateService.authState.subscribe(x=>{this.currentUserIdentity=x.identity}))}ngOnInit(){if(void 0!==this.existing){this.currentlySelectedTalent={talentName:this.existing?.talent.name},this.addingEmployment=!1,this.addingEmployment=!1;let n={talent:[this.existing?.talent._id||null,h.kI.required],startDate:[this.existing?.from,h.kI.required]};this.existing?.until&&(this.editingEndedEmployment=!0,Object.assign(n,{endDate:[this.existing?.until,h.kI.required]},{endReason:[this.existing?.status,h.kI.required]},{notes:[this.existing?.notes]})),this.createEmploymentForm=this.fb.group(n)}else this.createEmploymentForm=this.fb.group({talent:[null,h.kI.required],startDate:[null,h.kI.required]})}ngOnDestroy(){this.subscriptions.unsubscribe()}get talentIsSelected(){return this.createEmploymentForm?.get("talent")?.value||!1}selectTalent(n){var l=this;return(0,t.Z)(function*(){if(l.warnAboutSelectedTalent=!1,l.currentlySelectedTalent=n,l.selectedTalentOnTrack=!1,l.selectedTalentNotOnTrack=!1,n){if(l.createEmploymentForm?.get("talent")?.setValue(n.talentId),n.positionId==l.forJob?.position._id&&n.propertyId==l.forJob?.property._id&&n.legacyStartDate?(l.createEmploymentForm?.get("startDate")?.setValue(new Date(n.legacyStartDate)),l.createEmploymentForm?.get("startDate")?.markAsDirty(),l.selectedTalentOnTrack=!0):l.selectedTalentNotOnTrack=!0,l.employmentServiceApi.getEmploymentsForTalent(n.talentId).then(f=>{l.warnAboutSelectedTalent=f.some(C=>m.ub.forcedDismissalReasons.includes(C.status))}),n.accountId){let f=(yield l.accountServiceApi.getAccount(n.accountId)).account;l.selectedTalent={_id:n.talentId,account:f}}l.manageAccountActions()}else l.createEmploymentForm?.get("talent")?.setValue(null)})()}clearTalentFromForm(){this.warnAboutSelectedTalent=!1,this.createEmploymentForm?.get("talent")?.setValue(null),this.selectedTalentOnTrack=!1,this.selectedTalentNotOnTrack=!1,this.talentHasAccount=!1,this.selectedTalent=void 0,this.currentlySelectedTalent?.positionId==this.forJob?.position._id&&this.currentlySelectedTalent?.propertyId==this.forJob?.property._id&&(this.createEmploymentForm?.get("startDate")?.setValue(null),this.createEmploymentForm?.get("startDate")?.markAsPristine()),this.currentlySelectedTalent=void 0}getFormValue(){let n={employment:{talentId:this.createEmploymentForm?.value.talent,startDate:this.createEmploymentForm?.value.startDate,...this.createEmploymentForm?.value.endDate?{endDate:this.createEmploymentForm?.value.endDate}:{},...this.createEmploymentForm?.value.endReason?{endReason:this.createEmploymentForm?.value.endReason}:{},...this.createEmploymentForm?.value.notes?{notes:this.createEmploymentForm?.value.notes}:{notes:null}}};if(this.talentHasAccount){let l={};this.formValue&&(this.selectedTalent?.account?.email!==this.formValue.email&&(l.email=this.formValue.email),this.selectedTalent?.account?.role!==this.formValue.role&&(l.role=this.formValue.role),l.changeAcc=!(!l?.email&&!l?.role)),n.account=l,n.accountId=this.selectedTalent?.account?._id}return n}formStatusChange(n){this.formValid="VALID"===n}formValueChange(n){this.onlyRoleChange=this.selectedTalent?.account?.email===n.email&&this.selectedTalent?.account?.role!=n.role,this.formValue=n}getRoleOptions(){return Object.values(p.u).filter(n=>n!=p.u.SUPER_ADMIN).map(n=>({name:this.roleNamePipe.transform(n),value:n}))}manageAccountActions(){switch(this.talentHasAccount=!!this.selectedTalent?.account,this.currentUserIdentity?.role){case p.u.SUPER_ADMIN:case p.u.ADMIN:this.canCreateRoles=[p.u.ADMIN,p.u.MANAGER,p.u.EMPLOYEE],this.canEditAccount=!0;break;case p.u.MANAGER:this.canEditAccount=!0,this.selectedTalent?.account&&(this.canCreateRoles=[this.selectedTalent.account.role])}this.currentUserIdentity?.talent?._id===this.selectedTalent?._id&&(this.canEditAccount=!1)}}return s.\u0275fac=function(n){return new(n||s)(e.Y36(h.QS),e.Y36(v.l),e.Y36(m.Ib),e.Y36(g.p),e.Y36(_.V),e.Y36(y.B))},s.\u0275cmp=e.Xpm({type:s,selectors:[["team-add-edit-employment-modal"]],inputs:{existing:"existing",forJob:"forJob"},outputs:{onSumbit:"onSumbit",onCloseModal:"onCloseModal"},decls:36,vars:11,consts:[[1,"modal-header"],[1,"modal-title"],[4,"ngIf","ngIfElse"],["editEmploymentModalTitle",""],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"mb-0"],[1,"mb-2"],[3,"formGroup",4,"ngIf"],[4,"ngIf"],[1,"modal-footer"],[1,"text-right"],[1,"btn","btn-primary",3,"click"],["aria-hidden","true",1,"fa","fa-times"],[1,"btn","btn-secondary","ml-1",3,"disabled","click"],["editEmploymentButtonContent",""],["talentSelectorModal",""],[3,"formGroup"],[1,"my-2"],[1,"p-fluid"],["pButton","",3,"click",4,"ngIf"],["class","p-inputgroup",4,"ngIf"],["class","mt-1 alert alert-warning","role","alert",4,"ngIf"],["formControlName","startDate","dateFormat","dd M yy","icon","fas fa-calendar-alt",3,"showIcon","maxDate"],["class","mt-1 alert alert-info","role","alert",4,"ngIf"],["class","my-2",4,"ngIf"],["pButton","",3,"click"],[1,"p-inputgroup"],["type","text","pInputText","",3,"disabled","value"],["type","button","pButton","","icon","pi pi-times","label","Clear","class","p-button-danger",3,"click",4,"ngIf"],["type","button","pButton","","icon","pi pi-times","label","Clear",1,"p-button-danger",3,"click"],["role","alert",1,"mt-1","alert","alert-warning"],[3,"routerLink","click"],["role","alert",1,"mt-1","alert","alert-info"],["target","_blank",1,"btn","btn-link","btn-sm",3,"routerLink"],["aria-hidden","true",1,"fa","fa-eye","mr-1"],["formControlName","endDate","dateFormat","dd M yy","icon","fas fa-calendar-alt",3,"showIcon","minDate","maxDate"],["formControlName","endReason",3,"options","autoDisplayFirst","group"],["pTemplate","group"],[1,"flex","align-items-center"],["pInputTextarea","","formControlName","notes"],[1,"row"],[1,"col-auto"],["accentLevel","warning","iconClasses","fa fa-door-open","tooltipMessage","When you change a talent's email, they are required to register again with their new email address. Their current password will be reset.",4,"ngIf"],[3,"initialValue","canCreateRoles","statusChanges","valueChanges",4,"ngIf"],["accentLevel","warning","iconClasses","fa fa-door-open","tooltipMessage","When you change a talent's email, they are required to register again with their new email address. Their current password will be reset."],[3,"initialValue","canCreateRoles","statusChanges","valueChanges"],[1,"col-12","col-md-6"],["aria-hidden","true",1,"fa","fa-briefcase"],["aria-hidden","true",1,"fa","fa-pencil-alt"],[3,"onSelectTalent"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-primary","ml-1",3,"click"],["aria-hidden","true",1,"fa","fa-check-circle"]],template:function(n,l){if(1&n&&(e.TgZ(0,"div",0)(1,"h4",1),e.YNc(2,q,2,0,"span",2),e.YNc(3,d,1,0,"ng-template",null,3,e.W1O),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(C){return l.onCloseModal.emit(C)}),e.TgZ(6,"span",5),e._uU(7,"\xd7"),e.qZA()()(),e.TgZ(8,"div",6)(9,"div")(10,"h5"),e._uU(11,"Job:"),e.qZA(),e.TgZ(12,"h6",7),e._uU(13),e.qZA(),e.TgZ(14,"h6",8)(15,"small"),e._uU(16),e._UZ(17,"br"),e._uU(18),e.qZA()(),e.TgZ(19,"h6"),e._uU(20),e.qZA()(),e._UZ(21,"hr"),e.TgZ(22,"div"),e.YNc(23,G,18,11,"form",9),e.qZA(),e.YNc(24,te,9,3,"div",10),e.qZA(),e.TgZ(25,"div",11)(26,"div",12)(27,"button",13),e.NdJ("click",function(C){return l.onCloseModal.emit(C)}),e._UZ(28,"i",14),e._uU(29," Cancel "),e.qZA(),e.TgZ(30,"button",15),e.NdJ("click",function(){return l.onSumbit.emit(l.getFormValue())}),e.YNc(31,ne,3,0,"span",2),e.YNc(32,oe,2,0,"ng-template",null,16,e.W1O),e.qZA()()(),e.YNc(34,ie,17,0,"ng-template",null,17,e.W1O)),2&n){const f=e.MAs(4),C=e.MAs(33);e.xp6(2),e.Q6J("ngIf",l.addingEmployment)("ngIfElse",f),e.xp6(11),e.Oqu(null==l.forJob||null==l.forJob.position?null:l.forJob.position.name),e.xp6(3),e.hij(" ",null==l.forJob||null==l.forJob.position?null:l.forJob.position.area,""),e.xp6(2),e.hij(" ",null==l.forJob||null==l.forJob.position?null:l.forJob.position.department," "),e.xp6(2),e.Oqu(null==l.forJob||null==l.forJob.property?null:l.forJob.property.name),e.xp6(3),e.Q6J("ngIf",l.createEmploymentForm),e.xp6(1),e.Q6J("ngIf",l.talentHasAccount),e.xp6(6),e.Q6J("disabled",l.processing||(null==l.createEmploymentForm?null:l.createEmploymentForm.pristine)||(null==l.createEmploymentForm?null:l.createEmploymentForm.invalid)),e.xp6(1),e.Q6J("ngIf",l.addingEmployment)("ngIfElse",C)}},dependencies:[w,J.O5,U.yS,h._Y,h.Fj,h.JJ,h.JL,h.sg,h.u,H.Lt,N.jx,P.f,Q.Hq,j.o,V.g,B.g,Y.s,g.p]}),s})()},5609:(D,S,a)=>{a.d(S,{Z:()=>M});var t=a(6895),e=a(433),h=a(4789),c=a(585),m=a(2210),p=a(1740),v=a(3054),g=a(1571),_=a(1795);let V=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=g.oAB({type:i}),i.\u0275inj=g.cJS({imports:[t.ez,_.T]}),i})();var B=a(7913),Y=a(5973),q=a(3113),d=a(2342),A=a(793);let o=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=g.oAB({type:i}),i.\u0275inj=g.cJS({imports:[t.ez,h.Bz,e.UX,A.U$]}),i})();var u=a(3345);let M=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=g.oAB({type:i}),i.\u0275inj=g.cJS({providers:[q.p],imports:[o,t.ez,h.Bz,e.UX,e.u5,m.kW,c._8,p.j,v.A,V,B.Iu,d.M,Y.s,u.k]}),i})()},7182:(D,S,a)=>{a.d(S,{Q:()=>q});var t=a(1571),e=a(433),h=a(727),c=a(9147),m=a(625),p=a(527),v=a(3113),g=a(171),_=a(6895),y=a(2210),b=a(805),O=a(585),U=a(3054),R=a(1507),N=a(2962);function F(d,A){1&d&&(t.TgZ(0,"div",16),t._UZ(1,"i",17),t._uU(2,"You cannot end this employment "),t.qZA())}function k(d,A){if(1&d&&(t.TgZ(0,"div",24)(1,"span"),t._uU(2),t.qZA()()),2&d){const o=A.$implicit;t.xp6(2),t.Oqu(o.label)}}function L(d,A){if(1&d&&(t.TgZ(0,"form",18)(1,"div",5)(2,"h6",6),t._uU(3,"Ended at:"),t.qZA(),t.TgZ(4,"div",19),t._UZ(5,"p-calendar",20),t.qZA()(),t.TgZ(6,"div",5)(7,"h6",6),t._uU(8,"End with status:"),t.qZA(),t.TgZ(9,"div",19)(10,"p-dropdown",21),t.YNc(11,k,3,1,"ng-template",22),t.qZA()()(),t.TgZ(12,"div",5)(13,"h6",6),t._uU(14,"Additional notes:"),t.qZA(),t.TgZ(15,"div",19),t._UZ(16,"textarea",23),t.qZA()()()),2&d){const o=t.oxw();t.Q6J("formGroup",o.editEmploymentForm),t.xp6(5),t.Q6J("showIcon",!0)("maxDate",o.today)("minDate",(null==o.employment?null:o.employment.from)||o.today),t.xp6(5),t.Q6J("options",o.endStatusOptions)("autoDisplayFirst",!1)("group",!0)}}function w(d,A){1&d&&t._UZ(0,"app-shared-icon-tooltip",28)}function J(d,A){if(1&d&&(t.TgZ(0,"div")(1,"div",25)(2,"div",29)(3,"h6"),t._uU(4,"Login email address"),t.qZA(),t.TgZ(5,"p"),t._uU(6),t.qZA()(),t.TgZ(7,"div",29)(8,"h6"),t._uU(9,"Keiro access level"),t.qZA(),t.TgZ(10,"p"),t._uU(11),t.ALo(12,"roleName"),t.qZA()()()()),2&d){const o=t.oxw(2);t.xp6(6),t.hij(" ",null==o.employment||null==o.employment.talent||null==o.employment.talent.account?null:o.employment.talent.account.email," "),t.xp6(5),t.Oqu(t.lcZ(12,2,null==o.employment||null==o.employment.talent||null==o.employment.talent.account?null:o.employment.talent.account.role))}}function H(d,A){if(1&d){const o=t.EpF();t.TgZ(0,"div")(1,"keiro-account-form",31),t.NdJ("statusChanges",function(M){t.CHM(o);const i=t.oxw(3);return t.KtG(i.formStatusChange(M))})("valueChanges",function(M){t.CHM(o);const i=t.oxw(3);return t.KtG(i.formValueChange(M))}),t.qZA()()}if(2&d){const o=t.oxw(3);t.xp6(1),t.Q6J("initialValue",null==o.employment||null==o.employment.talent?null:o.employment.talent.account)("canCreateRoles",o.canCreateRoles)}}const P=function(d,A){return{"btn-primary":d,"btn-outline-primary":A}},Q=function(d,A){return{"btn-danger":d,"btn-outline-danger":A}};function j(d,A){if(1&d){const o=t.EpF();t.TgZ(0,"div",32)(1,"button",33),t.NdJ("click",function(){t.CHM(o);const M=t.oxw(3);return t.KtG(M.toggleRevoke(!1))}),t._UZ(2,"i",34),t._uU(3," Keep account "),t.qZA(),t.TgZ(4,"button",33),t.NdJ("click",function(){t.CHM(o);const M=t.oxw(3);return t.KtG(M.toggleRevoke(!0))}),t._UZ(5,"i",35),t._uU(6," Revoke account "),t.qZA()()}if(2&d){const o=t.oxw(3);t.xp6(1),t.Q6J("ngClass",t.WLB(2,P,!o.currentRevoke,o.currentRevoke)),t.xp6(3),t.Q6J("ngClass",t.WLB(5,Q,o.currentRevoke,!o.currentRevoke))}}function V(d,A){if(1&d&&(t.TgZ(0,"div"),t.YNc(1,H,2,2,"div",9),t.YNc(2,j,7,8,"div",30),t.qZA()),2&d){const o=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!o.showAccInfo),t.xp6(1),t.Q6J("ngIf",o.canEditAccount)}}function B(d,A){1&d&&(t.TgZ(0,"div",16),t._UZ(1,"i",36),t._uU(2,"The account for this talent will be revoked "),t.qZA())}function Y(d,A){if(1&d&&(t.TgZ(0,"div"),t._UZ(1,"br"),t.TgZ(2,"div",25)(3,"h5",26),t._uU(4,"Account info"),t.qZA(),t.YNc(5,w,1,0,"app-shared-icon-tooltip",27),t.qZA(),t.YNc(6,J,13,4,"div",9),t.YNc(7,V,3,2,"div",9),t.YNc(8,B,3,0,"div",7),t.qZA()),2&d){const o=t.oxw();t.xp6(5),t.Q6J("ngIf",!o.showAccInfo),t.xp6(1),t.Q6J("ngIf",o.showAccInfo),t.xp6(1),t.Q6J("ngIf",o.currentStatus!==(null==o.employment?null:o.employment.status)&&!o.isEmploymentEnding),t.xp6(1),t.Q6J("ngIf",o.isEmploymentEnding&&(null==o.editEmploymentForm?null:o.editEmploymentForm.dirty)&&o.canEditAccount)}}let q=(()=>{class d{constructor(o,u,M){this.fb=o,this.roleNamePipe=u,this.authStateService=M,this.onSumbit=new t.vpe,this.onCloseModal=new t.vpe,this.currentStatus=c.Vg.ACTIVE,this.showAccInfo=!0,this.isEmploymentEnding=!1,this.talentHasAccount=!1,this.canEditAccount=!1,this.formValid=!1,this.onlyRoleChange=!1,this._currentRevoke=!1,this.subscriptions=new h.w0,this.processing=!1,this.endStatusOptions=[{label:"Change of job",items:[c.Vg.CHANGE_PROMOTION,c.Vg.CHANGE_LATERAL_MOVEMENT,c.Vg.CHANGE_TRANSFER_SAME_POSITION,c.Vg.CHANGE_TRANSFER_PROMOTION].map(i=>({label:c.ub.statusNameMap.get(i),value:i}))},{label:"Voluntary dismissals",items:[c.Vg.DISMISSAL_VOLUNTARY_ABSENTEEISM,c.Vg.DISMISSAL_VOLUNTARY_ABANDONMENT,c.Vg.DISMISSAL_VOLUNTARY_RETIREMENT,c.Vg.DISMISSAL_VOLUNTARY_BETTER_OFFER,c.Vg.DISMISSAL_VOLUNTARY_PERSONAL].map(i=>({label:c.ub.statusNameMap.get(i),value:i}))},{label:"Forced dismissals",items:[c.Vg.DISMISSAL_FORCED_END_OF_CONTRACT,c.Vg.DISMISSAL_FORCED_DISEASE,c.Vg.DISMISSAL_FORCED_DEATH,c.Vg.DISMISSAL_FORCED_LOW_PERFORMANCE,c.Vg.DISMISSAL_FORCED_INAPROPIATE_BEHAVIORS,c.Vg.DISMISSAL_FORCED_OTHERS].map(i=>({label:c.ub.statusNameMap.get(i),value:i}))}],this.today=new Date,this.subscriptions.add(this.authStateService.authState.subscribe(i=>{this.currentUserIdentity=i.identity}))}set currentRevoke(o){this._currentRevoke=this.canEditAccount?o:this.currentRevoke,this.showAccInfo=this.isEmploymentEnding&&this.canEditAccount?this.isEmploymentEnding:this.currentRevoke,this.formValue=void 0}get currentRevoke(){return this._currentRevoke}formStatusChange(o){this.formValid="VALID"===o}formValueChange(o){this.onlyRoleChange=this.employment?.talent.account?.email===o.email&&this.employment?.talent.account?.role!=o.role,this.formValue=o}ngOnInit(){switch(this.editEmploymentForm=this.fb.group({newStatus:[c.Vg.ACTIVE,[p.d.valueInArray([...c.ub.changesReasons,...c.ub.allDismissalReasons]),e.kI.required]],endDate:[null,e.kI.required],notes:[null]}),this.talentHasAccount=!!this.employment?.talent.account,this.currentStatus=this.employment?.status?this.employment?.status:c.Vg.ACTIVE,this.currentUserIdentity?.role){case m.u.SUPER_ADMIN:case m.u.ADMIN:this.canCreateRoles=[m.u.ADMIN,m.u.MANAGER,m.u.EMPLOYEE],this.canEditAccount=!0;break;case m.u.MANAGER:this.canEditAccount=!0,this.employment?.talent?.account?.role===m.u.ADMIN&&(this.canEditAccount=!1),this.employment?.talent.account&&(this.canCreateRoles=[this.employment?.talent.account.role]);break;case m.u.EMPLOYEE:(this.employment?.talent?.account?.role===m.u.ADMIN||this.employment?.talent?.account?.role===m.u.MANAGER)&&(this.canEditAccount=!1)}this.currentUserIdentity?.talent?._id===this.employment?.talent?._id&&(this.canEditAccount=!1),this.onChanges()}ngOnDestroy(){this.subscriptions.unsubscribe()}onChanges(){this.editEmploymentForm?.valueChanges.subscribe(o=>{this.currentStatus=o.newStatus,this.isEmploymentEnding=c.ub.allDismissalReasons.includes(o.newStatus),this.currentStatus!==this.employment?.status&&this.canEditAccount&&(this.showAccInfo=this.isEmploymentEnding?this.isEmploymentEnding:this.currentRevoke)})}toggleRevoke(o){this.currentRevoke=o}getRoleOptions(){return Object.values(m.u).filter(o=>o!=m.u.SUPER_ADMIN).map(o=>({name:this.roleNamePipe.transform(o),value:o}))}canEndEmployment(){const o=this.talentHasAccount&&!this.canEditAccount;return o&&!1===this.editEmploymentForm?.disabled&&this.editEmploymentForm?.disable(),!o}getFormValue(){let o={employment:{newStatus:this.editEmploymentForm?.value.newStatus,until:this.editEmploymentForm?.value.endDate,...this.editEmploymentForm?.value.notes?{notes:this.editEmploymentForm?.value.notes}:{}}};if(this.talentHasAccount){let u={},M=this.isEmploymentEnding&&this.canEditAccount?this.isEmploymentEnding:this.currentRevoke;this.formValue&&!M&&(this.employment?.talent?.account?.email!==this.formValue.email&&(u.email=this.formValue.email),this.employment?.talent?.account?.role!==this.formValue.role&&(u.role=this.formValue.role),u.changeAcc=!(!u?.email&&!u?.role||M)),M&&(u.revokeAcc={talentId:this.employment.talent._id,email:this.employment.talent.account.email}),o.account=u,o.accountId=this.employment.talent.account._id}return o}}return d.\u0275fac=function(o){return new(o||d)(t.Y36(e.QS),t.Y36(v.p),t.Y36(g.V))},d.\u0275cmp=t.Xpm({type:d,selectors:[["team-end-employment-modal"]],inputs:{job:"job",employment:"employment"},outputs:{onSumbit:"onSumbit",onCloseModal:"onCloseModal"},decls:32,vars:11,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"my-2"],[1,"mb-0"],["class","mt-1 alert alert-warning","role","alert",4,"ngIf"],[3,"formGroup",4,"ngIf"],[4,"ngIf"],[1,"modal-footer"],[1,"text-right"],[1,"btn","btn-primary",3,"click"],["aria-hidden","true",1,"fa","fa-times"],[1,"btn","btn-secondary","ml-1",3,"disabled","click"],["aria-hidden","true",1,"fa","fa-save"],["role","alert",1,"mt-1","alert","alert-warning"],["aria-hidden","true",1,"fa","fa-exclamation-triangle","mr-1"],[3,"formGroup"],[1,"p-fluid"],["formControlName","endDate","dateFormat","dd M yy","icon","fas fa-calendar-alt",3,"showIcon","maxDate","minDate"],["formControlName","newStatus",3,"options","autoDisplayFirst","group"],["pTemplate","group"],["pInputTextarea","","formControlName","notes"],[1,"flex","align-items-center"],[1,"row"],[1,"col-auto"],["accentLevel","warning","iconClasses","fa fa-door-open","tooltipMessage","When you change a talent's email, they are required to register again with their new email address. Their current password will be reset.",4,"ngIf"],["accentLevel","warning","iconClasses","fa fa-door-open","tooltipMessage","When you change a talent's email, they are required to register again with their new email address. Their current password will be reset."],[1,"col-12","col-md-6"],["class","btn-group","role","group","aria-label","Toggle revoke",4,"ngIf"],[3,"initialValue","canCreateRoles","statusChanges","valueChanges"],["role","group","aria-label","Toggle revoke",1,"btn-group"],["type","button",1,"btn","btn-sm",3,"ngClass","click"],["aria-hidden","true",1,"fa","fa-door-open"],["aria-hidden","true",1,"fa","fa-door-closed"],["aria-hidden","true",1,"fa","fa-door-closed","mr-1"]],template:function(o,u){1&o&&(t.TgZ(0,"div",0)(1,"h4",1)(2,"span"),t._uU(3,"End employment"),t.qZA()(),t.TgZ(4,"button",2),t.NdJ("click",function(i){return u.onCloseModal.emit(i)}),t.TgZ(5,"span",3),t._uU(6,"\xd7"),t.qZA()()(),t.TgZ(7,"div",4)(8,"h5",5),t._uU(9),t.qZA(),t.TgZ(10,"div",5)(11,"h6",6),t._uU(12,"Job title:"),t.qZA(),t.TgZ(13,"span"),t._uU(14),t.qZA()(),t.TgZ(15,"div",5)(16,"h6",6),t._uU(17,"Started at:"),t.qZA(),t.TgZ(18,"span"),t._uU(19),t.ALo(20,"date"),t.qZA()(),t.YNc(21,F,3,0,"div",7),t.YNc(22,L,17,7,"form",8),t.YNc(23,Y,9,4,"div",9),t.qZA(),t.TgZ(24,"div",10)(25,"div",11)(26,"button",12),t.NdJ("click",function(i){return u.onCloseModal.emit(i)}),t._UZ(27,"i",13),t._uU(28," Cancel "),t.qZA(),t.TgZ(29,"button",14),t.NdJ("click",function(){return u.onSumbit.emit(u.getFormValue())}),t._UZ(30,"i",15),t._uU(31," End employment "),t.qZA()()()),2&o&&(t.xp6(9),t.AsE("",null==u.employment||null==u.employment.talent||null==u.employment.talent.name?null:u.employment.talent.name.given," ",null==u.employment||null==u.employment.talent||null==u.employment.talent.name?null:u.employment.talent.name.last,""),t.xp6(5),t.Oqu(null==u.job||null==u.job.position?null:u.job.position.name),t.xp6(5),t.Oqu(t.xi3(20,8,null==u.employment?null:u.employment.from,"dd MMM yyyy")),t.xp6(2),t.Q6J("ngIf",!u.canEndEmployment()),t.xp6(1),t.Q6J("ngIf",u.editEmploymentForm),t.xp6(1),t.Q6J("ngIf",u.talentHasAccount),t.xp6(6),t.Q6J("disabled",u.processing||(null==u.editEmploymentForm?null:u.editEmploymentForm.pristine)||(null==u.editEmploymentForm?null:u.editEmploymentForm.invalid)))},dependencies:[_.mk,_.O5,e._Y,e.Fj,e.JJ,e.JL,e.sg,e.u,y.Lt,b.jx,O.f,U.g,R.g,N.s,_.uU,v.p]}),d})()},8283:(D,S,a)=>{a.d(S,{B:()=>p});var t=a(3905),e=a(4004),h=a(2340),c=a(1571),m=a(529);let p=(()=>{class v{constructor(_){this.http=_,this.serverUrl=h.N.v2apiServer}listAccounts(_,y,b,O){return(0,t.z)(this.http.post(this.serverUrl+"account/list",O,{params:{..._?{search:_}:{},...b?{page:b}:{},...y?{count:y}:{}}}).pipe(U=>U))}sendRegistrationReminder(_){return(0,t.z)(this.http.post(this.serverUrl+"account/remind-registration/"+_,{}).pipe((0,e.U)(y=>({account:y}))))}editAccount(_,y,b){return(0,t.z)(this.http.put(this.serverUrl+"account/"+_,{...y?{email:y}:{},...b?{role:b}:{}}).pipe((0,e.U)(O=>({account:O}))))}getAccount(_){return(0,t.z)(this.http.get(this.serverUrl+"account/"+_).pipe((0,e.U)(y=>({account:y}))))}}return v.\u0275fac=function(_){return new(_||v)(c.LFG(m.eN))},v.\u0275prov=c.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})()},3054:(D,S,a)=>{a.d(S,{A:()=>m,g:()=>c});var t=a(1571),e=a(6895),h=a(433);let c=(()=>{class p{constructor(g,_,y,b){this.el=g,this.ngModel=_,this.control=y,this.cd=b,this.onResize=new t.vpe}ngOnInit(){this.ngModel&&(this.ngModelSubscription=this.ngModel.valueChanges.subscribe(()=>{this.updateState()})),this.control&&(this.ngControlSubscription=this.control.valueChanges.subscribe(()=>{this.updateState()}))}ngAfterViewInit(){this.autoResize&&this.resize(),this.updateFilledState(),this.cd.detectChanges()}onInput(g){this.updateState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length}onFocus(g){this.autoResize&&this.resize(g)}onBlur(g){this.autoResize&&this.resize(g)}resize(g){this.el.nativeElement.style.height="auto",this.el.nativeElement.style.height=this.el.nativeElement.scrollHeight+"px",parseFloat(this.el.nativeElement.style.height)>=parseFloat(this.el.nativeElement.style.maxHeight)?(this.el.nativeElement.style.overflowY="scroll",this.el.nativeElement.style.height=this.el.nativeElement.style.maxHeight):this.el.nativeElement.style.overflow="hidden",this.onResize.emit(g||{})}updateState(){this.updateFilledState(),this.autoResize&&this.resize()}ngOnDestroy(){this.ngModelSubscription&&this.ngModelSubscription.unsubscribe(),this.ngControlSubscription&&this.ngControlSubscription.unsubscribe()}}return p.\u0275fac=function(g){return new(g||p)(t.Y36(t.SBq),t.Y36(h.On,8),t.Y36(h.a5,8),t.Y36(t.sBO))},p.\u0275dir=t.lG2({type:p,selectors:[["","pInputTextarea",""]],hostAttrs:[1,"p-inputtextarea","p-inputtext","p-component","p-element"],hostVars:4,hostBindings:function(g,_){1&g&&t.NdJ("input",function(b){return _.onInput(b)})("focus",function(b){return _.onFocus(b)})("blur",function(b){return _.onBlur(b)}),2&g&&t.ekj("p-filled",_.filled)("p-inputtextarea-resizable",_.autoResize)},inputs:{autoResize:"autoResize"},outputs:{onResize:"onResize"}}),p})(),m=(()=>{class p{}return p.\u0275fac=function(g){return new(g||p)},p.\u0275mod=t.oAB({type:p}),p.\u0275inj=t.cJS({imports:[e.ez]}),p})()}}]);