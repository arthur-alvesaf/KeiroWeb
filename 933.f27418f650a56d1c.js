"use strict";(self.webpackChunkalasta_ui=self.webpackChunkalasta_ui||[]).push([[933],{5303:(D,d,a)=>{a.d(d,{e:()=>f});var t=a(1571),e=a(433),p=a(727),u=a(8372),m=a(6895),_=a(2210),l=a(805),c=a(585);function g(s,r){if(1&s&&(t.TgZ(0,"h6",14),t._uU(1),t.qZA(),t.TgZ(2,"h6",15)(3,"small"),t._uU(4),t._UZ(5,"br"),t._uU(6),t.qZA()()),2&s){const n=r.$implicit;t.xp6(1),t.Oqu(n.name),t.xp6(3),t.hij(" ",n.department,""),t.xp6(2),t.hij(" ",n.area," ")}}function h(s,r){1&s&&t._uU(0,"Could not find a position with that name, please contact your Keiro admin if you'd like to create it.")}function E(s,r){if(1&s&&(t.TgZ(0,"form",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"label",5),t._uU(5,"Property *"),t.qZA(),t.TgZ(6,"div",6),t._UZ(7,"p-dropdown",7),t.qZA()()(),t.TgZ(8,"div",8)(9,"div",4)(10,"label",5),t._uU(11,"Position *"),t.qZA(),t.TgZ(12,"div",6)(13,"p-dropdown",9),t.YNc(14,g,7,3,"ng-template",10),t.YNc(15,h,1,0,"ng-template",11),t.qZA()()()(),t.TgZ(16,"div",12)(17,"div",4)(18,"label",5),t._uU(19,"Start date *"),t.qZA(),t.TgZ(20,"div",6),t._UZ(21,"p-calendar",13),t.qZA()()()()()),2&s){const n=t.oxw();t.Q6J("formGroup",n.addLegacyWorkInfoForm),t.xp6(7),t.Q6J("filter",!0)("options",n.propertyOptions)("autoDisplayFirst",!1),t.xp6(6),t.Q6J("filter",!0)("options",n.positionOptions)("autoDisplayFirst",!1),t.xp6(8),t.Q6J("showIcon",!0)("maxDate",n.today)}}let f=(()=>{class s{constructor(n){this.fb=n,this.positionOptions=[],this.propertyOptions=[],this.valueChanges=new t.vpe,this.statusChanges=new t.vpe,this.today=new Date,this.subscriptions=new p.w0,this.subscriptions.add(this.touchForm?.subscribe(()=>{this.addLegacyWorkInfoForm?.markAllAsTouched(),Object.keys(this.addLegacyWorkInfoForm.controls).forEach(o=>{this.addLegacyWorkInfoForm.get(o)?.markAsDirty()})}))}set disabled(n){n?this.addLegacyWorkInfoForm?.disable():this.addLegacyWorkInfoForm?.enable()}ngOnInit(){this.initializeForm()}ngOnDestroy(){this.subscriptions.unsubscribe()}initializeForm(){this.addLegacyWorkInfoForm=this.fb.group({position:[null,e.kI.required],property:[null,e.kI.required],startDate:[null,e.kI.required]}),this.subscriptions.add(this.addLegacyWorkInfoForm.statusChanges.subscribe(n=>{this.statusChanges.emit(n)})),this.subscriptions.add(this.addLegacyWorkInfoForm.valueChanges.pipe((0,u.b)(350)).subscribe(n=>{this.valueChanges.emit(this.getFormValue())}))}getFormValue(){return{positionId:this.addLegacyWorkInfoForm?.value.position,propertyId:this.addLegacyWorkInfoForm?.value.property,startDate:this.addLegacyWorkInfoForm?.value.startDate}}}return s.\u0275fac=function(n){return new(n||s)(t.Y36(e.QS))},s.\u0275cmp=t.Xpm({type:s,selectors:[["employment-forms-add-legacy-work"]],inputs:{positionOptions:"positionOptions",propertyOptions:"propertyOptions",touchForm:"touchForm",disabled:"disabled"},outputs:{valueChanges:"valueChanges",statusChanges:"statusChanges"},decls:1,vars:1,consts:[["autocomplete","off",3,"formGroup",4,"ngIf"],["autocomplete","off",3,"formGroup"],[1,"form-row","align-items-start"],[1,"col-12","col-sm-7","col-md-5","col-lg-5"],[1,"field","my-2"],[1,"block","mb-0"],[1,"p-fluid"],["formControlName","property","optionLabel","name","optionValue","_id",3,"filter","options","autoDisplayFirst"],[1,"col-12","col-sm-5","col-md-3","col-lg-4"],["formControlName","position","optionLabel","name","optionValue","_id",3,"filter","options","autoDisplayFirst"],["pTemplate","item"],["pTemplate","empty"],[1,"col-12","col-sm-6","col-md-4","col-lg-3"],["formControlName","startDate","dateFormat","dd M yy","icon","fas fa-calendar-alt",3,"showIcon","maxDate"],[1,"mb-0"],[1,"mb-1"]],template:function(n,o){1&n&&t.YNc(0,E,22,9,"form",0),2&n&&t.Q6J("ngIf",o.addLegacyWorkInfoForm)},dependencies:[m.O5,e._Y,e.JJ,e.JL,e.sg,e.u,_.Lt,l.jx,c.f]}),s})()},3920:(D,d,a)=>{a.d(d,{y:()=>_});var t=a(6895),e=a(433),p=a(2210),u=a(585),m=a(1571);let _=(()=>{class l{}return l.\u0275fac=function(g){return new(g||l)},l.\u0275mod=m.oAB({type:l}),l.\u0275inj=m.cJS({imports:[t.ez,e.UX,p.kW,u._8]}),l})()},549:(D,d,a)=>{a.d(d,{V:()=>s});var t=a(1571),e=a(433),p=a(727),u=a(8372),m=a(6895),_=a(585),l=a(8816),c=a(2210),g=a(5722),h=a(7913),E=a(1740);function f(r,n){if(1&r){const o=t.EpF();t.TgZ(0,"form",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"label",5),t._uU(5,"Last names *"),t.qZA(),t.TgZ(6,"div",6),t._UZ(7,"input",7),t.qZA(),t.TgZ(8,"small",8),t._uU(9),t.qZA()()(),t.TgZ(10,"div",9)(11,"div",4)(12,"label",10),t._uU(13,"First names *"),t.qZA(),t.TgZ(14,"div",6),t._UZ(15,"input",11),t.qZA(),t.TgZ(16,"small",12),t._uU(17),t.qZA()()(),t.TgZ(18,"div",13)(19,"div",4)(20,"label",14),t._uU(21,"Date of birth *"),t.qZA(),t.TgZ(22,"div",6)(23,"p-calendar",15,16),t.NdJ("onShow",function(){t.CHM(o);const v=t.MAs(24),y=t.oxw();return t.KtG(y.prepareCalenderView(v))}),t.qZA()(),t.TgZ(25,"small",17),t._uU(26),t.qZA()()(),t.TgZ(27,"div",18)(28,"div",4)(29,"label",19),t._uU(30,"Nationality *"),t.qZA(),t.TgZ(31,"div",6),t._UZ(32,"p-dropdown",20),t.qZA(),t.TgZ(33,"small",21),t._uU(34),t.qZA()()(),t.TgZ(35,"div",18)(36,"div",4)(37,"label",22),t._uU(38,"Languages *"),t.qZA(),t.TgZ(39,"div",6),t._UZ(40,"p-multiSelect",23),t.qZA(),t.TgZ(41,"small",24),t._uU(42),t.qZA()()(),t.TgZ(43,"div",18)(44,"div",4)(45,"label",25),t._uU(46,"Available for relocation? *"),t.qZA(),t.TgZ(47,"div",26),t._UZ(48,"p-inputSwitch",27),t.qZA(),t.TgZ(49,"small",28),t._uU(50),t.qZA()()()()()}if(2&r){const o=t.oxw();t.Q6J("formGroup",o.talentFormGroup),t.xp6(8),t.Q6J("collapse",!o.isFormError("lastNames"))("isAnimated",!0),t.xp6(1),t.hij(" ",o.prettifyError("lastNames")," "),t.xp6(7),t.Q6J("collapse",!o.isFormError("firstNames"))("isAnimated",!0),t.xp6(1),t.hij(" ",o.prettifyError("firstNames")," "),t.xp6(6),t.Q6J("showIcon",!0)("minDate",o.minDate)("maxDate",o.today),t.xp6(2),t.Q6J("collapse",!o.isFormError("dobDate"))("isAnimated",!0),t.xp6(1),t.hij(" ",o.prettifyError("dobDate")," "),t.xp6(6),t.Q6J("autoDisplayFirst",!1)("filter",!0)("options",o._nationalityOptions),t.xp6(1),t.Q6J("collapse",!o.isFormError("nationality"))("isAnimated",!0),t.xp6(1),t.hij(" ",o.prettifyError("nationality")," "),t.xp6(6),t.Q6J("options",o._languageOptions),t.xp6(1),t.Q6J("collapse",!o.isFormError("languages"))("isAnimated",!0),t.xp6(1),t.hij(" ",o.prettifyError("languages")," "),t.xp6(7),t.Q6J("collapse",!o.isFormError("mobility"))("isAnimated",!0),t.xp6(1),t.hij(" ",o.prettifyError("mobility")," ")}}let s=(()=>{class r{constructor(o){this.fb=o,this._nationalityOptions=[],this._languageOptions=[],this.canManageAccounts=!1,this.valueChanges=new t.vpe,this.statusChanges=new t.vpe,this.showAlastaAccountSection=!1,this.minDate=new Date("1/1/1910"),this.today=new Date,this.subscriptions=new p.w0}set allNationalities(o){this._nationalityOptions=o.map(i=>({name:i,value:i}))}set allLanguages(o){this._languageOptions=o.map(i=>({name:i,value:i}))}set disabled(o){o?this.talentFormGroup?.disable():this.talentFormGroup?.enable()}ngOnInit(){this.initializeForm(),this.subscriptions.add(this.touchForm?.subscribe(()=>{this.talentFormGroup?.markAllAsTouched(),Object.keys(this.talentFormGroup.controls).forEach(o=>{this.talentFormGroup.get(o)?.markAsDirty()})}))}ngOnDestroy(){this.subscriptions.unsubscribe()}initializeForm(){this.talentFormGroup=this.fb.group({firstNames:[this.initialValue?.firstNames||null,[e.kI.required,e.kI.minLength(2),e.kI.maxLength(100)]],lastNames:[this.initialValue?.lastNames||null,[e.kI.required,e.kI.minLength(2),e.kI.maxLength(100)]],nationality:[this.initialValue?.nationality||null,[e.kI.required]],dobDate:[this.initialValue?.dobDate||null,[e.kI.required]],mobility:[this.initialValue?.mobility||!1,[e.kI.required]],languages:[this.initialValue?.languages||null,[e.kI.required]]}),this.subscriptions.add(this.talentFormGroup.statusChanges.subscribe(o=>{this.statusChanges.emit(o)})),this.subscriptions.add(this.talentFormGroup.valueChanges.pipe((0,u.b)(350)).subscribe(o=>{this.valueChanges.emit(o)}))}prepareCalenderView(o){o.switchToYearView(new Event("")),!o.value&&(o.decrementDecade(),o.decrementDecade())}isFormError(o){const i=this.talentFormGroup?.get(o);return!i?.pristine&&!i?.valid}prettifyError(o){const i=this.talentFormGroup?.get(o)?.errors;return i?i.required?"Required":i.min||i.max?"Invalid":i.notInteger||i.notNumeric?"Not number":i.valueNotInOptions?"Unknown value":i.email?"Not valid email address":i.emailInUse?i.associatedName?`Email address already in use by ${i.associatedName}`:"Email address already in use":i.minlength||i.maxlength?"Invalid length":i.matDatepickerMin||i.matDatepickerMax?"Invalid date":i.allOrNothing?"Incomplete work information":"":""}}return r.\u0275fac=function(o){return new(o||r)(t.Y36(e.QS))},r.\u0275cmp=t.Xpm({type:r,selectors:[["talent-form"]],inputs:{touchForm:"touchForm",initialValue:"initialValue",allNationalities:"allNationalities",allLanguages:"allLanguages",disabled:"disabled",canManageAccounts:"canManageAccounts",canCreateRoles:"canCreateRoles"},outputs:{valueChanges:"valueChanges",statusChanges:"statusChanges"},decls:1,vars:1,consts:[["autocomplete","off",3,"formGroup",4,"ngIf"],["autocomplete","off",3,"formGroup"],[1,"form-row","align-items-start"],[1,"col-12","col-sm-7","col-md-5","col-lg-5"],[1,"field","my-2"],["for","lastNameInput",1,"block","mb-0"],[1,"p-fluid"],["pInputText","","formControlName","lastNames","id","lastNameInput","name","lastNames","aria-describedby","lastNamesInvalid","autocomplete","off","type","text"],["id","lastNamesInvalid",1,"p-error","block",3,"collapse","isAnimated"],[1,"col-12","col-sm-5","col-md-3","col-lg-4"],["for","firstNamesInput",1,"block","mb-0"],["pInputText","","formControlName","firstNames","id","firstNamesInput","name","firstNames","aria-describedby","firstNamesInvalid","autocomplete","off","type","text"],["id","firstNamesInvalid",1,"p-error","block",3,"collapse","isAnimated"],[1,"col-12","col-sm-6","col-md-4","col-lg-3"],["for","dobDateInput",1,"block","mb-0"],["formControlName","dobDate","dateFormat","dd M yy","icon","fas fa-calendar-alt","placeholder","01 Jan 2001","autocomplete","off","type","text",3,"showIcon","minDate","maxDate","onShow"],["dobCalendar",""],["id","dobDateInvalid",1,"p-error","block",3,"collapse","isAnimated"],[1,"col-12","col-sm-6","col-md-4"],["for","nationalityInput",1,"block","mb-0"],["formControlName","nationality","optionLabel","name","optionValue","value",3,"autoDisplayFirst","filter","options"],["id","nationalityInvalid",1,"p-error","block",3,"collapse","isAnimated"],["for","languagesInput",1,"block","mb-0"],["formControlName","languages","optionLabel","name","optionValue","value",3,"options"],["id","languagesInvalid",1,"p-error","block",3,"collapse","isAnimated"],["for","mobilityInput",1,"block","align-top","mb-0","mr-1"],[1,"block"],["formControlName","mobility"],["id","mobilityInvalid",1,"p-error","block",3,"collapse","isAnimated"]],template:function(o,i){1&o&&t.YNc(0,f,51,26,"form",0),2&o&&t.Q6J("ngIf",i.talentFormGroup)},dependencies:[m.O5,e._Y,e.Fj,e.JJ,e.JL,e.sg,e.u,_.f,l.Y,c.Lt,g.NU,h.Ql,E.o]}),r})()},8099:(D,d,a)=>{a.d(d,{B:()=>s});var t=a(6895),e=a(1740),p=a(433),u=a(8816),m=a(585),_=a(5722),l=a(2210),c=a(7913),g=a(613),h=a(3345),E=a(5973),f=a(1571);let s=(()=>{class r{}return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=f.oAB({type:r}),r.\u0275inj=f.cJS({imports:[t.ez,p.UX,m._8,u.f,l.kW,_.q4,c.Iu,g.cc,e.j,h.k,E.s]}),r})()}}]);