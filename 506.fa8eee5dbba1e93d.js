"use strict";(self.webpackChunkalasta_ui=self.webpackChunkalasta_ui||[]).push([[506],{3345:(w,E,r)=>{r.d(E,{k:()=>y});var p=r(6895),_=r(2320),T=r(1571);let y=(()=>{class e{}return e.\u0275fac=function(c){return new(c||e)},e.\u0275mod=T.oAB({type:e}),e.\u0275inj=T.cJS({imports:[p.ez,_.z8.forRoot()]}),e})()},9147:(w,E,r)=>{r.d(E,{Ib:()=>A,Vg:()=>c,ub:()=>v});var C,p=r(3905),_=r(4004),T=r(2340),y=r(1571),e=r(529),c=(()=>{return(s=c||(c={}))[s.CANDIDATE=0]="CANDIDATE",s[s.CANDIDATE_ENDED_NOT_SELECTED_BUT_DESIRED=1]="CANDIDATE_ENDED_NOT_SELECTED_BUT_DESIRED",s[s.CANDIDATE_ENDED_NOT_DESIRED=2]="CANDIDATE_ENDED_NOT_DESIRED",s[s.ACTIVE=10]="ACTIVE",s[s.ENDED=19]="ENDED",s[s.CHANGE_PROMOTION=20]="CHANGE_PROMOTION",s[s.CHANGE_LATERAL_MOVEMENT=21]="CHANGE_LATERAL_MOVEMENT",s[s.CHANGE_TRANSFER_SAME_POSITION=22]="CHANGE_TRANSFER_SAME_POSITION",s[s.CHANGE_TRANSFER_PROMOTION=23]="CHANGE_TRANSFER_PROMOTION",s[s.DISMISSAL_VOLUNTARY_ABSENTEEISM=50]="DISMISSAL_VOLUNTARY_ABSENTEEISM",s[s.DISMISSAL_VOLUNTARY_ABANDONMENT=51]="DISMISSAL_VOLUNTARY_ABANDONMENT",s[s.DISMISSAL_VOLUNTARY_RETIREMENT=52]="DISMISSAL_VOLUNTARY_RETIREMENT",s[s.DISMISSAL_VOLUNTARY_BETTER_OFFER=53]="DISMISSAL_VOLUNTARY_BETTER_OFFER",s[s.DISMISSAL_VOLUNTARY_PERSONAL=54]="DISMISSAL_VOLUNTARY_PERSONAL",s[s.DISMISSAL_FORCED_END_OF_CONTRACT=70]="DISMISSAL_FORCED_END_OF_CONTRACT",s[s.DISMISSAL_FORCED_DISEASE=71]="DISMISSAL_FORCED_DISEASE",s[s.DISMISSAL_FORCED_DEATH=72]="DISMISSAL_FORCED_DEATH",s[s.DISMISSAL_FORCED_LOW_PERFORMANCE=73]="DISMISSAL_FORCED_LOW_PERFORMANCE",s[s.DISMISSAL_FORCED_INAPROPIATE_BEHAVIORS=74]="DISMISSAL_FORCED_INAPROPIATE_BEHAVIORS",s[s.DISMISSAL_FORCED_OTHERS=75]="DISMISSAL_FORCED_OTHERS",c;var s})();class v{}C=v,v.changesReasons=[c.CHANGE_PROMOTION,c.CHANGE_LATERAL_MOVEMENT,c.CHANGE_TRANSFER_SAME_POSITION,c.CHANGE_TRANSFER_PROMOTION],v.voluntaryDismissalReasons=[c.DISMISSAL_VOLUNTARY_ABSENTEEISM,c.DISMISSAL_VOLUNTARY_ABANDONMENT,c.DISMISSAL_VOLUNTARY_RETIREMENT,c.DISMISSAL_VOLUNTARY_BETTER_OFFER,c.DISMISSAL_VOLUNTARY_PERSONAL],v.forcedDismissalReasons=[c.DISMISSAL_FORCED_END_OF_CONTRACT,c.DISMISSAL_FORCED_DISEASE,c.DISMISSAL_FORCED_DEATH,c.DISMISSAL_FORCED_LOW_PERFORMANCE,c.DISMISSAL_FORCED_INAPROPIATE_BEHAVIORS,c.DISMISSAL_FORCED_OTHERS],v.allDismissalReasons=[...C.voluntaryDismissalReasons,...C.forcedDismissalReasons],v.statusNameMap=new Map([[c.CANDIDATE,"Candidate"],[c.CANDIDATE_ENDED_NOT_SELECTED_BUT_DESIRED,"Candidate ended but not selected"],[c.CANDIDATE_ENDED_NOT_DESIRED,"Candidate not desired"],[c.ACTIVE,"Active"],[c.ENDED,"Ended"],[c.CHANGE_PROMOTION,"Promotion"],[c.CHANGE_LATERAL_MOVEMENT,"Lateral movement"],[c.CHANGE_TRANSFER_SAME_POSITION,"Transfer same position"],[c.CHANGE_TRANSFER_PROMOTION,"Transfer promotion"],[c.DISMISSAL_VOLUNTARY_ABSENTEEISM,"Absenteeism"],[c.DISMISSAL_VOLUNTARY_ABANDONMENT,"Abandonment"],[c.DISMISSAL_VOLUNTARY_RETIREMENT,"Retirement"],[c.DISMISSAL_VOLUNTARY_BETTER_OFFER,"Better offer"],[c.DISMISSAL_VOLUNTARY_PERSONAL,"Personal"],[c.DISMISSAL_FORCED_END_OF_CONTRACT,"End of contract"],[c.DISMISSAL_FORCED_DISEASE,"Disease"],[c.DISMISSAL_FORCED_DEATH,"Death"],[c.DISMISSAL_FORCED_LOW_PERFORMANCE,"Low performance"],[c.DISMISSAL_FORCED_INAPROPIATE_BEHAVIORS,"Inapropiate behaviors"],[c.DISMISSAL_FORCED_OTHERS,"Other"]]);let A=(()=>{class s{constructor(u){this.http=u,this.serverUrl=T.N.v2apiServer}static formatDates(u){return{...u,...u.from?{from:new Date(u.from)}:{},...u.until?{until:new Date(u.until)}:{}}}createEmploymentRecord(u,f,d,b,m){return(0,p.z)(this.http.post(this.serverUrl+"employment/",{job:u,talent:f,status:d,from:b.toISOString(),...m?{allowMultiple:m}:{}}).pipe((0,_.U)(g=>s.formatDates(g))))}getActiveEmploymentForTalent(u){return(0,p.z)(this.http.get(this.serverUrl+"employment/active/"+u).pipe((0,_.U)(f=>f?s.formatDates(f):null)))}getRelevantEmploymentForReview(u,f){return(0,p.z)(this.http.get(this.serverUrl+"employment/relevant/"+u+"/"+f).pipe((0,_.U)(d=>d?s.formatDates(d):null)))}getEmploymentsForTalent(u){return(0,p.z)(this.http.get(this.serverUrl+"employment/talent/"+u).pipe((0,_.U)(f=>f.map(d=>s.formatDates(d)))))}editEmployment(u,f,d,b,m){return(0,p.z)(this.http.put(this.serverUrl+"employment/"+u,{from:f.toISOString(),...void 0!==d?{status:d}:{},...void 0!==b?{until:b}:{},...void 0!==m?{notes:m}:{}}).pipe((0,_.U)(g=>s.formatDates(g))))}endEmployment(u,f,d,b){return(0,p.z)(this.http.put(this.serverUrl+"employment/"+u,{status:f,until:d.toISOString(),...b?{notes:b}:{}}).pipe((0,_.U)(m=>s.formatDates(m))))}}return s.\u0275fac=function(u){return new(u||s)(y.LFG(e.eN))},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})()},4053:(w,E,r)=>{r.d(E,{U:()=>c});var p=r(3905),_=r(4004),T=r(2340),y=r(9147),e=r(1571),C=r(529);let c=(()=>{class v{constructor(s){this.http=s,this.serverUrl=T.N.v2apiServer}getTeamByLeader(s){return(0,p.z)(this.http.get(this.serverUrl+"team/"+s).pipe((0,_.U)(M=>({...M,...M.employment?{employment:y.Ib.formatDates(M.employment)}:{},teamMembers:M.teamMembers.map(u=>({...u,...u.employment?{employment:y.Ib.formatDates(u.employment)}:{}}))}))))}getRelevantJobByTalent(s){return(0,p.z)(this.http.get(this.serverUrl+"team/relevant-job/"+s).pipe((0,_.U)(M=>M)))}getTopMostJobInHierarchy(){return(0,p.z)(this.http.get(this.serverUrl+"team/top-most-job/").pipe((0,_.U)(s=>s)))}addEndedEmployment(s,M,u,f,d,b,m){return(0,p.z)(this.http.post(this.serverUrl+"team/ended-employment",{title:void 0,leaderJob:void 0,property:s,position:M,talent:u,status:f,from:d,until:b,...m?{notes:m}:{}}).pipe((0,_.U)(g=>g)))}addJob(s,M,u){return(0,p.z)(this.http.post(this.serverUrl+"job/",{leader:s,property:M,position:u}).pipe((0,_.U)(f=>f)))}removeJob(s){return(0,p.z)(this.http.delete(this.serverUrl+"job/"+s).pipe((0,_.U)(M=>M)))}getOwnActiveResponsibiliy(){return(0,p.z)(this.http.get(this.serverUrl+"team/active-responsibility/").pipe((0,_.U)(s=>s)))}}return v.\u0275fac=function(s){return new(s||v)(e.LFG(C.eN))},v.\u0275prov=e.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})()},7197:(w,E,r)=>{r.d(E,{g:()=>p});class p{static hasValue(T){return null!=T&&null!=T&&""!==T}}},3457:(w,E,r)=>{r.r(E),r.d(E,{TeamModule:()=>ot});var p=r(6895),_=r(727),T=r(3905),y=r(9147),e=r(1571),C=r(4789),c=r(171),v=r(4053),A=r(805),s=r(3716),M=r(8283),u=r(9649),f=r(2733),d=r(6433),b=r(7182),m=r(76),g=r(5593),O=r(8652),S=r(7340),I=r(9592),x=r(982),R=r(1795),N=r(3608);const Z=["pMenuItemContent",""];function F(o,l){if(1&o&&e._UZ(0,"span",7),2&o){const t=e.oxw(2);e.Tol(t.item.iconClass),e.Q6J("ngClass",t.item.icon)("ngStyle",t.item.iconStyle)}}function j(o,l){if(1&o&&(e.TgZ(0,"span",8),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Oqu(t.item.label)}}function k(o,l){if(1&o&&e._UZ(0,"span",9),2&o){const t=e.oxw(2);e.Q6J("innerHTML",t.item.label,e.oJD)}}function H(o,l){if(1&o&&(e.TgZ(0,"span",10),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.Q6J("ngClass",t.item.badgeStyleClass),e.xp6(1),e.Oqu(t.item.badge)}}const U=function(o){return{"p-disabled":o}};function Y(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"a",2),e.NdJ("keydown",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.onItemKeyDown(i))})("click",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.menu.itemClick(i,a.item))}),e.YNc(1,F,1,4,"span",3),e.YNc(2,j,2,1,"span",4),e.YNc(3,k,1,1,"ng-template",null,5,e.W1O),e.YNc(5,H,2,2,"span",6),e.qZA()}if(2&o){const t=e.MAs(4),n=e.oxw();e.Q6J("target",n.item.target)("ngClass",e.VKq(12,U,n.item.disabled))("target",n.item.target),e.uIk("href",n.item.url||null,e.LSH)("tabindex",n.item.disabled?null:"0")("data-automationid",n.item.automationId)("title",n.item.title)("id",n.item.id),e.xp6(1),e.Q6J("ngIf",n.item.icon),e.xp6(1),e.Q6J("ngIf",!1!==n.item.escape)("ngIfElse",t),e.xp6(3),e.Q6J("ngIf",n.item.badge)}}function B(o,l){if(1&o&&e._UZ(0,"span",14),2&o){const t=e.oxw(2);e.Q6J("ngClass",t.item.icon)}}function Q(o,l){if(1&o&&(e.TgZ(0,"span",8),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Oqu(t.item.label)}}function V(o,l){if(1&o&&e._UZ(0,"span",9),2&o){const t=e.oxw(2);e.Q6J("innerHTML",t.item.label,e.oJD)}}function K(o,l){if(1&o&&(e.TgZ(0,"span",10),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.Q6J("ngClass",t.item.badgeStyleClass),e.xp6(1),e.Oqu(t.item.badge)}}const W=function(){return{exact:!1}};function G(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"a",11),e.NdJ("keydown",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.onItemKeyDown(i))})("click",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.menu.itemClick(i,a.item))}),e.YNc(1,B,1,1,"span",12),e.YNc(2,Q,2,1,"span",4),e.YNc(3,V,1,1,"ng-template",null,13,e.W1O),e.YNc(5,K,2,2,"span",6),e.qZA()}if(2&o){const t=e.MAs(4),n=e.oxw();e.Q6J("routerLink",n.item.routerLink)("queryParams",n.item.queryParams)("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",n.item.routerLinkActiveOptions||e.DdM(20,W))("target",n.item.target)("ngClass",e.VKq(21,U,n.item.disabled))("fragment",n.item.fragment)("queryParamsHandling",n.item.queryParamsHandling)("preserveFragment",n.item.preserveFragment)("skipLocationChange",n.item.skipLocationChange)("replaceUrl",n.item.replaceUrl)("state",n.item.state),e.uIk("data-automationid",n.item.automationId)("id",n.item.id)("tabindex",n.item.disabled?null:"0")("title",n.item.title),e.xp6(1),e.Q6J("ngIf",n.item.icon),e.xp6(1),e.Q6J("ngIf",!1!==n.item.escape)("ngIfElse",t),e.xp6(3),e.Q6J("ngIf",n.item.badge)}}const z=["container"],J=function(o){return{"p-hidden":o}};function q(o,l){if(1&o&&e._UZ(0,"li",8),2&o){const t=e.oxw().$implicit;e.Q6J("ngClass",e.VKq(1,J,!1===t.visible))}}function $(o,l){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const t=e.oxw(2).$implicit;e.xp6(1),e.Oqu(t.label)}}function X(o,l){if(1&o&&e._UZ(0,"span",12),2&o){const t=e.oxw(2).$implicit;e.Q6J("innerHTML",t.label,e.oJD)}}const ee=function(o,l){return{"p-hidden":o,flex:l}};function te(o,l){if(1&o&&(e.TgZ(0,"li",9),e.YNc(1,$,2,1,"span",10),e.YNc(2,X,1,1,"ng-template",null,11,e.W1O),e.qZA()),2&o){const t=e.MAs(3),n=e.oxw().$implicit;e.Q6J("ngClass",e.WLB(5,ee,!1===n.visible,n.visible))("tooltipOptions",n.tooltipOptions),e.uIk("data-automationid",n.automationId),e.xp6(1),e.Q6J("ngIf",!1!==n.escape)("ngIfElse",t)}}function ne(o,l){if(1&o&&e._UZ(0,"li",8),2&o){const t=e.oxw().$implicit,n=e.oxw().$implicit;e.Q6J("ngClass",e.VKq(1,J,!1===t.visible||!1===n.visible))}}function oe(o,l){if(1&o&&e._UZ(0,"li",14),2&o){const t=e.oxw().$implicit,n=e.oxw().$implicit;e.Tol(t.styleClass),e.Q6J("pMenuItemContent",t)("ngClass",e.VKq(6,J,!1===t.visible||!1===n.visible))("ngStyle",t.style)("tooltipOptions",t.tooltipOptions)}}function ie(o,l){if(1&o&&(e.YNc(0,ne,1,3,"li",6),e.YNc(1,oe,1,8,"li",13)),2&o){const t=l.$implicit;e.Q6J("ngIf",t.separator),e.xp6(1),e.Q6J("ngIf",!t.separator)}}function le(o,l){if(1&o&&(e.YNc(0,q,1,3,"li",6),e.YNc(1,te,4,8,"li",7),e.YNc(2,ie,2,2,"ng-template",5)),2&o){const t=l.$implicit;e.Q6J("ngIf",t.separator),e.xp6(1),e.Q6J("ngIf",!t.separator),e.xp6(1),e.Q6J("ngForOf",t.items)}}function ae(o,l){if(1&o&&e.YNc(0,le,3,3,"ng-template",5),2&o){const t=e.oxw(2);e.Q6J("ngForOf",t.model)}}function se(o,l){if(1&o&&e._UZ(0,"li",8),2&o){const t=e.oxw().$implicit;e.Q6J("ngClass",e.VKq(1,J,!1===t.visible))}}function re(o,l){if(1&o&&e._UZ(0,"li",14),2&o){const t=e.oxw().$implicit;e.Tol(t.styleClass),e.Q6J("pMenuItemContent",t)("ngClass",e.VKq(6,J,!1===t.visible))("ngStyle",t.style)("tooltipOptions",t.tooltipOptions)}}function pe(o,l){if(1&o&&(e.YNc(0,se,1,3,"li",6),e.YNc(1,re,1,8,"li",13)),2&o){const t=l.$implicit;e.Q6J("ngIf",t.separator),e.xp6(1),e.Q6J("ngIf",!t.separator)}}function me(o,l){if(1&o&&e.YNc(0,pe,2,2,"ng-template",5),2&o){const t=e.oxw(2);e.Q6J("ngForOf",t.model)}}const ce=function(o){return{"p-menu p-component":!0,"p-menu-overlay":o}},de=function(o,l){return{showTransitionParams:o,hideTransitionParams:l}},_e=function(o){return{value:"visible",params:o}};function ue(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"div",1,2),e.NdJ("click",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.onOverlayClick(i))})("@overlayAnimation.start",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.onOverlayAnimationStart(i))})("@overlayAnimation.done",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.onOverlayAnimationEnd(i))}),e.TgZ(2,"ul",3),e.YNc(3,ae,1,1,null,4),e.YNc(4,me,1,1,null,4),e.qZA()()}if(2&o){const t=e.oxw();e.Tol(t.styleClass),e.Q6J("ngClass",e.VKq(8,ce,t.popup))("ngStyle",t.style)("@overlayAnimation",e.VKq(13,_e,e.WLB(10,de,t.showTransitionOptions,t.hideTransitionOptions)))("@.disabled",!0!==t.popup),e.xp6(3),e.Q6J("ngIf",t.hasSubMenu()),e.xp6(1),e.Q6J("ngIf",!t.hasSubMenu())}}let he=(()=>{class o{constructor(t){this.menu=t}onItemKeyDown(t){let n=t.currentTarget.parentElement;switch(t.code){case"ArrowDown":var i=this.findNextItem(n);i&&i.children[0].focus(),t.preventDefault();break;case"ArrowUp":var a=this.findPrevItem(n);a&&a.children[0].focus(),t.preventDefault();break;case"Space":case"Enter":n&&!I.p.hasClass(n,"p-disabled")&&n.children[0].click(),t.preventDefault()}}findNextItem(t){let n=t.nextElementSibling;return n?I.p.hasClass(n,"p-disabled")||!I.p.hasClass(n,"p-menuitem")?this.findNextItem(n):n:null}findPrevItem(t){let n=t.previousElementSibling;return n?I.p.hasClass(n,"p-disabled")||!I.p.hasClass(n,"p-menuitem")?this.findPrevItem(n):n:null}}return o.\u0275fac=function(t){return new(t||o)(e.Y36((0,e.Gpc)(()=>P)))},o.\u0275cmp=e.Xpm({type:o,selectors:[["","pMenuItemContent",""]],hostAttrs:[1,"p-element"],inputs:{item:["pMenuItemContent","item"]},attrs:Z,decls:2,vars:2,consts:[["class","p-menuitem-link","role","menuitem",3,"target","ngClass","keydown","click",4,"ngIf"],["class","p-menuitem-link","role","menuitem","pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","keydown","click",4,"ngIf"],["role","menuitem",1,"p-menuitem-link",3,"target","ngClass","keydown","click"],["class","p-menuitem-icon",3,"ngClass","class","ngStyle",4,"ngIf"],["class","p-menuitem-text",4,"ngIf","ngIfElse"],["htmlLabel",""],["class","p-menuitem-badge",3,"ngClass",4,"ngIf"],[1,"p-menuitem-icon",3,"ngClass","ngStyle"],[1,"p-menuitem-text"],[1,"p-menuitem-text",3,"innerHTML"],[1,"p-menuitem-badge",3,"ngClass"],["role","menuitem","pRipple","",1,"p-menuitem-link",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","keydown","click"],["class","p-menuitem-icon",3,"ngClass",4,"ngIf"],["htmlRouteLabel",""],[1,"p-menuitem-icon",3,"ngClass"]],template:function(t,n){1&t&&(e.YNc(0,Y,6,14,"a",0),e.YNc(1,G,6,23,"a",1)),2&t&&(e.Q6J("ngIf",!n.item.routerLink),e.xp6(1),e.Q6J("ngIf",n.item.routerLink))},dependencies:[p.mk,p.O5,p.PC,C.yS,C.Od,R.H],encapsulation:2}),o})(),P=(()=>{class o{constructor(t,n,i,a,h){this.el=t,this.renderer=n,this.cd=i,this.config=a,this.overlayService=h,this.autoZIndex=!0,this.baseZIndex=0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.onShow=new e.vpe,this.onHide=new e.vpe}toggle(t){this.visible?this.hide():this.show(t),this.preventDocumentDefault=!0}show(t){this.target=t.currentTarget,this.relativeAlign=t.relativeAlign,this.visible=!0,this.preventDocumentDefault=!0,this.cd.markForCheck()}onOverlayAnimationStart(t){switch(t.toState){case"visible":this.popup&&(this.container=t.element,this.moveOnTop(),this.onShow.emit({}),this.appendOverlay(),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener());break;case"void":this.onOverlayHide(),this.onHide.emit({})}}onOverlayAnimationEnd(t){"void"===t.toState&&this.autoZIndex&&x.P9.clear(t.element)}alignOverlay(){this.relativeAlign?I.p.relativePosition(this.container,this.target):I.p.absolutePosition(this.container,this.target)}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.container):I.p.appendChild(this.container,this.appendTo))}restoreOverlayAppend(){this.container&&this.appendTo&&this.el.nativeElement.appendChild(this.container)}moveOnTop(){this.autoZIndex&&x.P9.set("menu",this.container,this.baseZIndex+this.config.zIndex.menu)}hide(){this.visible=!1,this.relativeAlign=!1,this.cd.markForCheck()}onWindowResize(){this.visible&&!I.p.isTouchDevice()&&this.hide()}itemClick(t,n){n.disabled?t.preventDefault():(!n.url&&!n.routerLink&&t.preventDefault(),n.command&&n.command({originalEvent:t,item:n}),this.popup&&this.hide())}onOverlayClick(t){this.popup&&this.overlayService.add({originalEvent:t,target:this.el.nativeElement}),this.preventDocumentDefault=!0}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",()=>{this.preventDocumentDefault||this.hide(),this.preventDocumentDefault=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new I.V(this.target,()=>{this.visible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.preventDocumentDefault=!1,this.cd.destroyed||(this.target=null)}ngOnDestroy(){this.popup&&(this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.container&&this.autoZIndex&&x.P9.clear(this.container),this.restoreOverlayAppend(),this.onOverlayHide())}hasSubMenu(){if(this.model)for(var t of this.model)if(t.items)return!0;return!1}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.sBO),e.Y36(A.b4),e.Y36(A.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["p-menu"]],viewQuery:function(t,n){if(1&t&&e.Gf(z,5),2&t){let i;e.iGM(i=e.CRH())&&(n.containerViewChild=i.first)}},hostAttrs:[1,"p-element"],inputs:{model:"model",popup:"popup",style:"style",styleClass:"styleClass",appendTo:"appendTo",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onShow:"onShow",onHide:"onHide"},decls:1,vars:1,consts:[[3,"ngClass","class","ngStyle","click",4,"ngIf"],[3,"ngClass","ngStyle","click"],["container",""],["role","menu",1,"p-menu-list","p-reset"],[4,"ngIf"],["ngFor","",3,"ngForOf"],["class","p-menu-separator","role","separator",3,"ngClass",4,"ngIf"],["class","p-submenu-header","pTooltip","","role","none",3,"ngClass","tooltipOptions",4,"ngIf"],["role","separator",1,"p-menu-separator",3,"ngClass"],["pTooltip","","role","none",1,"p-submenu-header",3,"ngClass","tooltipOptions"],[4,"ngIf","ngIfElse"],["htmlSubmenuLabel",""],[3,"innerHTML"],["class","p-menuitem","pTooltip","","role","none",3,"pMenuItemContent","ngClass","ngStyle","class","tooltipOptions",4,"ngIf"],["pTooltip","","role","none",1,"p-menuitem",3,"pMenuItemContent","ngClass","ngStyle","tooltipOptions"]],template:function(t,n){1&t&&e.YNc(0,ue,5,15,"div",0),2&t&&e.Q6J("ngIf",!n.popup||n.visible)},dependencies:[p.mk,p.sg,p.O5,p.PC,N.u,he],styles:[".p-menu-overlay{position:absolute;top:0;left:0}.p-menu ul{margin:0;padding:0;list-style:none}.p-menu .p-submenu-header{align-items:center}.p-menu .p-menuitem-link{cursor:pointer;display:flex;align-items:center;text-decoration:none;overflow:hidden;position:relative}.p-menu .p-menuitem-text{line-height:1}\n"],encapsulation:2,data:{animation:[(0,S.X$)("overlayAnimation",[(0,S.eR)(":enter",[(0,S.oB)({opacity:0,transform:"scaleY(0.8)"}),(0,S.jt)("{{showTransitionParams}}")]),(0,S.eR)(":leave",[(0,S.jt)("{{hideTransitionParams}}",(0,S.oB)({opacity:0}))])])]},changeDetection:0}),o})(),ge=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[p.ez,C.Bz,R.T,N.z,C.Bz,N.z]}),o})();function fe(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"div",13)(1,"button",14),e.NdJ("click",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.onClickUp.emit(i))}),e.qZA()()}}function be(o,l){if(1&o&&e._UZ(0,"img",15),2&o){const t=e.oxw();e.Q6J("src",null==t.job||null==t.job.employment||null==t.job.employment.talent?null:t.job.employment.talent.profilePictureSrc,e.LSH)}}function ve(o,l){1&o&&e._UZ(0,"i",16)}function Te(o,l){1&o&&e._UZ(0,"i",17)}function Ce(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"div",18),e._UZ(1,"p-menu",19,20),e.TgZ(3,"button",21),e.NdJ("click",function(i){e.CHM(t);const a=e.MAs(2);return e.KtG(a.toggle(i))}),e.qZA()()}if(2&o){const t=e.oxw();e.xp6(1),e.Q6J("popup",!0)("model",t.menu)}}function Me(o,l){1&o&&(e.TgZ(0,"span")(1,"h5")(2,"em"),e._uU(3,"Vacant job"),e.qZA()()())}function ye(o,l){if(1&o&&(e.TgZ(0,"span")(1,"h5"),e._uU(2),e.qZA()()),2&o){const t=e.oxw();e.xp6(2),e.AsE("",null==t.job||null==t.job.employment||null==t.job.employment.talent||null==t.job.employment.talent.name?null:t.job.employment.talent.name.given," ",null==t.job||null==t.job.employment||null==t.job.employment.talent||null==t.job.employment.talent.name?null:t.job.employment.talent.name.last,"")}}function Ee(o,l){if(1&o&&(e.TgZ(0,"h6",22)(1,"small"),e._uU(2),e._UZ(3,"br"),e._uU(4),e.qZA()()),2&o){const t=e.oxw();e.xp6(2),e.hij(" ",null==t.job||null==t.job.position?null:t.job.position.area,""),e.xp6(2),e.hij(" ",null==t.job||null==t.job.position?null:t.job.position.department," ")}}function Ae(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"div",22)(1,"button",23),e.NdJ("click",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.onClickDown.emit(i))}),e.qZA()()}}const Ie=function(o,l){return{"border-primary":o,"border-warning":l}};let Se=(()=>{class o{constructor(){this.fullWidthPx=180,this.imageWidthPx=180,this.showUp=!1,this.showDown=!1,this.canRemoveJob=!1,this.showFullJobInfo=!1,this.onClickUp=new e.vpe,this.onClickDown=new e.vpe,this.onViewTalent=new e.vpe,this.onStartEmployment=new e.vpe,this.onEndEmployment=new e.vpe,this.onDeleteJob=new e.vpe,this.menu=[]}set vacant(t){this._vacant=t,this.buildDropdownMenu()}get vacant(){return this._vacant}ngOnInit(){this.buildDropdownMenu()}buildDropdownMenu(){this.menu=[],this.vacant?this.menu.push({label:"Assign Talent",icon:"fa fa-briefcase",command:t=>{this.onStartEmployment.emit(t)}}):this.menu.push({label:"View Talent",icon:"fa fa-eye",command:t=>{this.onViewTalent.emit(t)}},{label:"End employment",icon:"fa fa-times",command:t=>{this.onEndEmployment.emit(t)}}),this.canRemoveJob&&this.menu.push({separator:!0},{label:"Remove job",icon:"fa fa-trash",disabled:!this.vacant,command:t=>{this.onDeleteJob.emit(t)}})}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["job-navigator-team-member"]],inputs:{fullWidthPx:"fullWidthPx",imageWidthPx:"imageWidthPx",job:"job",vacant:"vacant",showUp:"showUp",showDown:"showDown",canRemoveJob:"canRemoveJob",showFullJobInfo:"showFullJobInfo"},outputs:{onClickUp:"onClickUp",onClickDown:"onClickDown",onViewTalent:"onViewTalent",onStartEmployment:"onStartEmployment",onEndEmployment:"onEndEmployment",onDeleteJob:"onDeleteJob"},decls:19,vars:21,consts:[[1,"d-inline-flex","flex-column","justify-content-between","text-center","h-100","pt-1"],["class","m-1",4,"ngIf"],[1,"pp-wrapper","mx-auto","mb-2"],[1,"pp-image","border",3,"ngClass"],["alt","User profile picture",3,"src",4,"ngIf"],[1,"pp-icon-image"],["class","fa fa-question text-warning",4,"ngIf"],["class","fa fa-user text-secondary",4,"ngIf"],["class","pp-info",4,"ngIf"],[4,"ngIf"],[1,"mb-0"],["class","mb-1",4,"ngIf"],[1,"mb-3"],[1,"m-1"],["pButton","","type","button","icon","fa fa-arrow-alt-circle-up","label","See manager",1,"p-button","p-button-outlined",3,"click"],["alt","User profile picture",3,"src"],[1,"fa","fa-question","text-warning"],[1,"fa","fa-user","text-secondary"],[1,"pp-info"],["appendTo","body",3,"popup","model"],["dropdown",""],["pButton","","type","button","icon","fa fa-ellipsis-h",1,"bg-white","p-button","p-button-rounded","p-button-outlined",3,"click"],[1,"mb-1"],["pButton","","type","button","icon","fa fa-arrow-alt-circle-down","label","Team",1,"p-button","p-button-outlined",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,fe,2,0,"div",1),e.TgZ(2,"div",2)(3,"div",3),e.YNc(4,be,1,1,"img",4),e.TgZ(5,"div",5),e.YNc(6,ve,1,0,"i",6),e.YNc(7,Te,1,0,"i",7),e.qZA()(),e.YNc(8,Ce,4,2,"div",8),e.qZA(),e.TgZ(9,"div"),e.YNc(10,Me,4,0,"span",9),e.YNc(11,ye,3,2,"span",9),e.TgZ(12,"h6",10),e._uU(13),e.qZA(),e.YNc(14,Ee,5,2,"h6",11),e.TgZ(15,"h6",12)(16,"small"),e._uU(17),e.qZA()()(),e.YNc(18,Ae,2,0,"div",11),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",n.showUp),e.xp6(1),e.Udp("width",n.imageWidthPx,"px"),e.xp6(1),e.Q6J("ngClass",e.WLB(18,Ie,!n.vacant,n.vacant)),e.xp6(1),e.Q6J("ngIf",!n.vacant&&(null==n.job||null==n.job.employment||null==n.job.employment.talent?null:n.job.employment.talent.profilePictureSrc)),e.xp6(1),e.Udp("font-size",n.imageWidthPx/3,"px"),e.xp6(1),e.Q6J("ngIf",n.vacant),e.xp6(1),e.Q6J("ngIf",!(n.vacant||null!=n.job&&null!=n.job.employment&&null!=n.job.employment.talent&&n.job.employment.talent.profilePictureSrc)),e.xp6(1),e.Q6J("ngIf",n.menu&&n.menu.length),e.xp6(1),e.Udp("width",n.fullWidthPx,"px"),e.xp6(1),e.Q6J("ngIf",n.vacant),e.xp6(1),e.Q6J("ngIf",!n.vacant),e.xp6(2),e.Oqu(null==n.job||null==n.job.position?null:n.job.position.name),e.xp6(1),e.Q6J("ngIf",n.showFullJobInfo),e.xp6(3),e.Oqu(null==n.job||null==n.job.property?null:n.job.property.name),e.xp6(1),e.Q6J("ngIf",n.showDown))},dependencies:[p.mk,p.O5,g.Hq,P],styles:['.pp-wrapper[_ngcontent-%COMP%]{width:100%;padding:0;position:relative}.pp-wrapper[_ngcontent-%COMP%] > .pp-image[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;left:0;border-radius:100%}.pp-wrapper[_ngcontent-%COMP%] > .pp-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover;width:100%;height:100%;border-radius:100%}.pp-wrapper[_ngcontent-%COMP%] > .pp-image[_ngcontent-%COMP%]   .pp-icon-image[_ngcontent-%COMP%]{height:100%;display:flex;justify-content:center;align-items:center}.pp-wrapper[_ngcontent-%COMP%]:after{content:"";display:block;padding-bottom:100%}.pp-info[_ngcontent-%COMP%]{display:flex;color:#fff;inset:0;position:absolute;align-content:flex-end;justify-content:flex-end;border-radius:100%}.pp-wrapper[_ngcontent-%COMP%]:hover > .pp-overlay[_ngcontent-%COMP%], .pp-wrapper[_ngcontent-%COMP%]:focus > .pp-overlay[_ngcontent-%COMP%]{position:absolute;top:0;width:100%;height:100%;left:0;display:block;border-radius:100%}']}),o})();function De(o,l){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" (",t.teamMembers.length,")")}}function Oe(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"div",6)(1,"job-navigator-team-member",7),e.NdJ("onClickDown",function(){const a=e.CHM(t).$implicit,h=e.oxw();return e.KtG(h.navigateJobEvent.emit(a._id))})("onViewTalent",function(){const a=e.CHM(t).$implicit,h=e.oxw();return e.KtG(h.goToTalent(null==a||null==a.employment||null==a.employment.talent?null:a.employment.talent._id))})("onStartEmployment",function(){const a=e.CHM(t).$implicit,h=e.oxw();return e.KtG(h.startEmploymentForJob(a))})("onEndEmployment",function(){const a=e.CHM(t).$implicit,h=e.oxw();return e.KtG(h.endEmployment(a))})("onDeleteJob",function(){const a=e.CHM(t).$implicit,h=e.oxw();return e.KtG(h.deleteJob(a))}),e.qZA()()}if(2&o){const t=l.$implicit,n=e.oxw();e.xp6(1),e.Q6J("job",t)("vacant",!(null!=t&&t.employment))("canRemoveJob",n.canManageHierarchy)("showDown",!0)("imageWidthPx",90)("fullWidthPx",150)}}function we(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"div",8)(1,"div",9)(2,"button",10),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.clickAddJob.emit())}),e.qZA(),e.TgZ(3,"h6"),e._uU(4,"Add new Job"),e._UZ(5,"br"),e._uU(6,"to team"),e.qZA()()()}2&o&&(e.xp6(2),e.Udp("width",4.5,"rem")("height",4.5,"rem")("font-size",1.8,"rem"))}let xe=(()=>{class o{constructor(){this.teamMembers=[],this.canManageHierarchy=!1,this.navigateJobEvent=new e.vpe,this.navigateTalentEvent=new e.vpe,this.clickStartEmployment=new e.vpe,this.clickEndEmployment=new e.vpe,this.clickAddJob=new e.vpe,this.clickDeleteJob=new e.vpe}set team(t){if(void 0===t)return;const{teamMembers:n,...i}=t;this.responsible=i,this.teamMembers=n}ngOnInit(){}goToTalent(t){void 0!==t?this.navigateTalentEvent.emit(t):console.warn("No talent provided")}startEmploymentForJob(t){void 0!==t?this.clickStartEmployment.emit(t):console.warn("No job provided")}endEmployment(t){void 0!==t?this.clickEndEmployment.emit(t):console.warn("No job provided")}deleteJob(t){void 0!==t?this.clickDeleteJob.emit(t):console.warn("No job provided")}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["job-navigator-widget"]],inputs:{team:"team",canManageHierarchy:"canManageHierarchy"},outputs:{navigateJobEvent:"navigateJobEvent",navigateTalentEvent:"navigateTalentEvent",clickStartEmployment:"clickStartEmployment",clickEndEmployment:"clickEndEmployment",clickAddJob:"clickAddJob",clickDeleteJob:"clickDeleteJob"},decls:11,vars:10,consts:[[1,"row","mb-4"],[1,"col","text-center"],[3,"job","vacant","canRemoveJob","showUp","showFullJobInfo","imageWidthPx","fullWidthPx","onClickUp","onViewTalent","onStartEmployment","onEndEmployment","onDeleteJob"],[4,"ngIf"],["class","px-3 mx-auto",4,"ngFor","ngForOf"],["class","px-3 mx-auto align-self-center",4,"ngIf"],[1,"px-3","mx-auto"],[3,"job","vacant","canRemoveJob","showDown","imageWidthPx","fullWidthPx","onClickDown","onViewTalent","onStartEmployment","onEndEmployment","onDeleteJob"],[1,"px-3","mx-auto","align-self-center"],[1,"d-inline-block","text-center","mt-1"],["pButton","","type","button","icon","fa fa-plus",1,"p-button","p-button-rounded","p-button-outlined",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"h4"),e._uU(1,"Job Navigator"),e.qZA(),e.TgZ(2,"div",0)(3,"div",1)(4,"job-navigator-team-member",2),e.NdJ("onClickUp",function(){return n.navigateJobEvent.emit(null==n.responsible?null:n.responsible.leader)})("onViewTalent",function(){return n.goToTalent(null==n.responsible||null==n.responsible.employment||null==n.responsible.employment.talent?null:n.responsible.employment.talent._id)})("onStartEmployment",function(){return n.startEmploymentForJob(n.responsible)})("onEndEmployment",function(){return n.endEmployment(n.responsible)})("onDeleteJob",function(){return n.deleteJob(n.responsible)}),e.qZA()()(),e.TgZ(5,"h5"),e._uU(6,"Responsible for: "),e.YNc(7,De,2,1,"span",3),e.qZA(),e.TgZ(8,"alasta-overflow-shadow-container"),e.YNc(9,Oe,2,6,"div",4),e.YNc(10,we,7,6,"div",5),e.qZA()),2&t&&(e.xp6(4),e.Q6J("job",n.responsible)("vacant",!(null!=n.responsible&&n.responsible.employment))("canRemoveJob",n.canManageHierarchy)("showUp",!(null==n.responsible||!n.responsible.leader))("showFullJobInfo",!0)("imageWidthPx",140)("fullWidthPx",280),e.xp6(3),e.Q6J("ngIf",n.teamMembers.length),e.xp6(2),e.Q6J("ngForOf",n.teamMembers),e.xp6(1),e.Q6J("ngIf",n.canManageHierarchy))},dependencies:[p.sg,p.O5,g.Hq,O.t,Se]}),o})();var D=r(433),Je=r(797),Ne=r(917),L=r(2210);function Re(o,l){if(1&o&&(e.TgZ(0,"span")(1,"h5"),e._uU(2),e.qZA()()),2&o){const t=e.oxw();e.xp6(2),e.AsE("",null==t.responsible||null==t.responsible.employment||null==t.responsible.employment.talent||null==t.responsible.employment.talent.name?null:t.responsible.employment.talent.name.given," ",null==t.responsible||null==t.responsible.employment||null==t.responsible.employment.talent||null==t.responsible.employment.talent.name?null:t.responsible.employment.talent.name.last,"")}}function Ue(o,l){if(1&o&&(e.TgZ(0,"h6",6),e._uU(1),e.qZA(),e.TgZ(2,"h6",7)(3,"small"),e._uU(4),e._UZ(5,"br"),e._uU(6),e.qZA()()),2&o){const t=l.$implicit;e.xp6(1),e.Oqu(t.name),e.xp6(3),e.hij(" ",t.department,""),e.xp6(2),e.hij(" ",t.area," ")}}function Pe(o,l){1&o&&e._uU(0,"Could not find a position with that name, please contact your Keiro admin if you'd like to create it.")}function Le(o,l){if(1&o&&(e.TgZ(0,"form",15)(1,"div",16)(2,"h6",6),e._uU(3,"Position"),e.qZA(),e.TgZ(4,"div",17)(5,"p-dropdown",18),e.YNc(6,Ue,7,3,"ng-template",19),e.YNc(7,Pe,1,0,"ng-template",20),e.qZA()()(),e.TgZ(8,"div",16)(9,"h6",6),e._uU(10,"Property"),e.qZA(),e.TgZ(11,"div",17),e._UZ(12,"p-dropdown",21),e.qZA()()()),2&o){const t=e.oxw();e.Q6J("formGroup",t.addJobForm),e.xp6(5),e.Q6J("filter",!0)("options",t.positionOptions)("autoDisplayFirst",!1),e.xp6(7),e.Q6J("filter",!0)("options",t.propertyOptions)("autoDisplayFirst",!1)}}let Ze=(()=>{class o{constructor(t,n,i){this.fb=t,this.locationsApi=n,this.positionsApi=i,this.onSumbit=new e.vpe,this.onCloseModal=new e.vpe,this.processing=!1,this.positionOptions=[],this.propertyOptions=[],this.fetchLocations(),this.fetchPositions()}ngOnInit(){this.addJobForm=this.fb.group({position:[null,D.kI.required],property:[this.responsible?.property._id||null,D.kI.required]})}getFormValue(){return{positionId:this.addJobForm?.value.position,propertyId:this.addJobForm?.value.property}}fetchLocations(){this.locationsApi.getAllProperties().then(t=>{this.propertyOptions=t.properties}).catch(t=>{console.error(t)})}fetchPositions(){this.positionsApi.getAllPositions().then(t=>{this.positionOptions=t.positions}).catch(t=>{console.error(t)})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(D.QS),e.Y36(Je._),e.Y36(Ne.m))},o.\u0275cmp=e.Xpm({type:o,selectors:[["team-add-job-modal"]],inputs:{responsible:"responsible"},outputs:{onSumbit:"onSumbit",onCloseModal:"onCloseModal"},decls:32,vars:7,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[4,"ngIf"],[1,"mb-0"],[1,"mb-1"],[3,"formGroup",4,"ngIf"],[1,"modal-footer"],[1,"text-right"],[1,"btn","btn-primary",3,"click"],["aria-hidden","true",1,"fa","fa-times"],[1,"btn","btn-secondary","ml-1",3,"disabled","click"],["aria-hidden","true",1,"fa","fa-plus"],[3,"formGroup"],[1,"my-2"],[1,"p-fluid"],["formControlName","position","placeholder","Position *","optionLabel","name","optionValue","_id",3,"filter","options","autoDisplayFirst"],["pTemplate","item"],["pTemplate","empty"],["formControlName","property","placeholder","Property *","optionLabel","name","optionValue","_id",3,"filter","options","autoDisplayFirst"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"h4",1)(2,"span"),e._uU(3,"Add new Job"),e.qZA()(),e.TgZ(4,"button",2),e.NdJ("click",function(a){return n.onCloseModal.emit(a)}),e.TgZ(5,"span",3),e._uU(6,"\xd7"),e.qZA()()(),e.TgZ(7,"div",4)(8,"div")(9,"h5"),e._uU(10,"Under management of:"),e.qZA(),e.YNc(11,Re,3,2,"span",5),e.TgZ(12,"h6",6),e._uU(13),e.qZA(),e.TgZ(14,"h6",7)(15,"small"),e._uU(16),e._UZ(17,"br"),e._uU(18),e.qZA()(),e.TgZ(19,"h6"),e._uU(20),e.qZA()(),e._UZ(21,"hr"),e.TgZ(22,"div"),e.YNc(23,Le,13,7,"form",8),e.qZA()(),e.TgZ(24,"div",9)(25,"div",10)(26,"button",11),e.NdJ("click",function(a){return n.onCloseModal.emit(a)}),e._UZ(27,"i",12),e._uU(28," Cancel "),e.qZA(),e.TgZ(29,"button",13),e.NdJ("click",function(){return n.onSumbit.emit(n.getFormValue())}),e._UZ(30,"i",14),e._uU(31," Add job "),e.qZA()()()),2&t&&(e.xp6(11),e.Q6J("ngIf",null==n.responsible?null:n.responsible.employment),e.xp6(2),e.Oqu(null==n.responsible||null==n.responsible.position?null:n.responsible.position.name),e.xp6(3),e.hij(" ",null==n.responsible||null==n.responsible.position?null:n.responsible.position.area,""),e.xp6(2),e.hij(" ",null==n.responsible||null==n.responsible.position?null:n.responsible.position.department," "),e.xp6(2),e.Oqu(null==n.responsible||null==n.responsible.property?null:n.responsible.property.name),e.xp6(3),e.Q6J("ngIf",n.addJobForm),e.xp6(6),e.Q6J("disabled",n.processing||(null==n.addJobForm?null:n.addJobForm.pristine)||(null==n.addJobForm?null:n.addJobForm.invalid)))},dependencies:[p.O5,D._Y,D.JJ,D.JL,D.sg,D.u,L.Lt,A.jx]}),o})();function Fe(o,l){1&o&&e._UZ(0,"hr",13)}function je(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"p",14),e._uU(1," Alternatively, you can "),e.TgZ(2,"button",15),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.onAllowMultiple.emit())}),e._uU(3,"assign this talent to multiple jobs anyway"),e.qZA()()}}let ke=(()=>{class o{constructor(){this.canSetMultiple=!1,this.navigateTalentEvent=new e.vpe,this.onAllowMultiple=new e.vpe,this.onCloseModal=new e.vpe}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["team-multiple-employments-decision-modal"]],inputs:{canSetMultiple:"canSetMultiple"},outputs:{navigateTalentEvent:"navigateTalentEvent",onAllowMultiple:"onAllowMultiple",onCloseModal:"onCloseModal"},decls:22,vars:2,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"mt-3"],[1,"mb-2"],[1,"btn","btn-primary",3,"click"],["class","my-4",4,"ngIf"],["class","mt-2 mb-3",4,"ngIf"],[1,"modal-footer"],[1,"text-right"],["aria-hidden","true",1,"fa","fa-times"],[1,"my-4"],[1,"mt-2","mb-3"],[1,"btn","btn-danger",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"h4",1)(2,"span"),e._uU(3,"Talent already employed"),e.qZA()(),e.TgZ(4,"button",2),e.NdJ("click",function(a){return n.onCloseModal.emit(a)}),e.TgZ(5,"span",3),e._uU(6,"\xd7"),e.qZA()()(),e.TgZ(7,"div",4)(8,"h5",5),e._uU(9,"It appears this talent is already currently employed elsewhere."),e.qZA(),e.TgZ(10,"p",6),e._uU(11," To make sure this talent only has responsibility of one Job, please first "),e.TgZ(12,"button",7),e.NdJ("click",function(){return n.navigateTalentEvent.emit()}),e._uU(13,"navigate to the talent"),e.qZA(),e._uU(14," and end their current employment before assigning this new one. "),e.qZA(),e.YNc(15,Fe,1,0,"hr",8),e.YNc(16,je,4,0,"p",9),e.qZA(),e.TgZ(17,"div",10)(18,"div",11)(19,"button",7),e.NdJ("click",function(a){return n.onCloseModal.emit(a)}),e._UZ(20,"i",12),e._uU(21," Cancel "),e.qZA()()()),2&t&&(e.xp6(15),e.Q6J("ngIf",n.canSetMultiple),e.xp6(1),e.Q6J("ngIf",n.canSetMultiple))},dependencies:[p.O5]}),o})();function He(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"job-navigator-widget",10),e.NdJ("navigateJobEvent",function(i){e.CHM(t);const a=e.oxw(3);return e.KtG(a.fetchTeamForLeader(i))})("navigateTalentEvent",function(i){e.CHM(t);const a=e.oxw(3);return e.KtG(a.goToTalent(i))})("clickStartEmployment",function(i){e.CHM(t);const a=e.oxw(3),h=e.MAs(7);return a.targetJob=i,e.KtG(a.modalsControllerService.openModal(h))})("clickEndEmployment",function(i){e.CHM(t);const a=e.oxw(3),h=e.MAs(11);return a.targetJob=i,e.KtG(a.modalsControllerService.openModal(h))})("clickAddJob",function(){e.CHM(t);const i=e.oxw(3),a=e.MAs(3);return e.KtG(i.modalsControllerService.openModal(a))})("clickDeleteJob",function(i){e.CHM(t);const a=e.oxw(3),h=e.MAs(5);return a.targetJob=i,e.KtG(a.modalsControllerService.openModal(h))}),e.qZA()}if(2&o){const t=e.oxw(3);e.Q6J("team",t.team)("canManageHierarchy",t.userCanManageHierarchy)}}function Ye(o,l){if(1&o&&(e.TgZ(0,"div",7)(1,"div",8),e.YNc(2,He,1,2,"job-navigator-widget",9),e.qZA()()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngSwitch",t.id),e.xp6(1),e.Q6J("ngSwitchCase","job_navigator")}}function Be(o,l){if(1&o&&(e.TgZ(0,"span"),e.YNc(1,Ye,3,2,"div",1),e.qZA()),2&o){const t=l.$implicit;e.xp6(1),e.Q6J("ngIf",t.visible)}}function Qe(o,l){1&o&&(e.TgZ(0,"span",7)(1,"div",11),e._uU(2," \u{1f615} There is currently nothing to show you here. Please come back at a later time. "),e.qZA()())}function Ve(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"team-add-job-modal",12),e.NdJ("onSumbit",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.createJob(i))})("onCloseModal",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.modalsControllerService.closeUpperModal())}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("responsible",t.team)}}function Ke(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"app-shared-confirmation",13),e.NdJ("onConfirm",function(){e.CHM(t);const i=e.oxw();return i.deleteJob(),e.KtG(i.modalsControllerService.closeUpperModal())})("onReject",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.modalsControllerService.closeUpperModal())}),e.qZA()}2&o&&e.Q6J("canUndo",!0)}function We(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"team-add-edit-employment-modal",14),e.NdJ("onSumbit",function(i){e.CHM(t);const a=e.oxw(),h=e.MAs(9);return e.KtG(a.startEmploymentForJob(i,h))})("onCloseModal",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.modalsControllerService.closeUpperModal())}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("forJob",t.targetJob)}}function Ge(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"team-multiple-employments-decision-modal",15),e.NdJ("navigateTalentEvent",function(){e.CHM(t);const i=e.oxw();return i.goToTalent(null==i.tempStartEmploymentInput||null==i.tempStartEmploymentInput.employment?null:i.tempStartEmploymentInput.employment.talentId),e.KtG(i.modalsControllerService.closeAllModals())})("onAllowMultiple",function(){e.CHM(t);const i=e.oxw();return i.startEmploymentForJob(i.tempStartEmploymentInput,null,!0),e.KtG(i.modalsControllerService.closeUpperModal())})("onCloseModal",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.modalsControllerService.closeAllModals())}),e.qZA()}2&o&&e.Q6J("canSetMultiple",!0)}function ze(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"team-end-employment-modal",16),e.NdJ("onCloseModal",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.modalsControllerService.closeUpperModal())})("onSumbit",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.endEmployment(i))}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("job",t.targetJob)("employment",(null==t.targetJob?null:t.targetJob.employment)||void 0)}}let qe=(()=>{class o{constructor(t,n,i,a,h,it,lt,at,st,rt){this.route=t,this.router=n,this.authStateService=i,this.teamApiService=a,this.employmentApiService=h,this.messageService=it,this.fileManagerService=lt,this.accountsServiceApi=at,this.talentsManagementServiceApi=st,this.modalsControllerService=rt,this.subscription=new _.w0,this.widgets=[{id:"job_navigator",visible:!0}],this.visibleWidgets=!1,this.userCanManageHierarchy=!1,this.processingModalRequest=!1,this.subscription.add(this.authStateService.authState.subscribe(pt=>{this.currentUser=pt.identity,this.userCanManageHierarchy="Employee"!=this.currentUser?.role}))}calcVisibleWidgets(){this.visibleWidgets=this.widgets.some(t=>t.visible)}ngOnInit(){(0,T.z)(this.route.queryParams).then(t=>{const n=t.j;n?(this.jobId=n,this.fetchTeamForLeader(this.jobId)):this.currentUser&&this.fetchRelevantJobForTalent(this.currentUser.id)}),this.calcVisibleWidgets()}goToTalent(t){!t||this.router.navigate(["app","talent","view",t])}startEmploymentForJob(t,n,i=!1){if(!this.targetJob)return void console.log("No job selected");if(!t?.employment)return;let a={};t.account?.changeAcc&&(t.account?.email&&(a.email=t.account.email),t.account?.role&&(a.role=t.account.role)),this.employmentApiService.createEmploymentRecord(this.targetJob?._id,t.employment.talentId,y.Vg.ACTIVE,t.employment.startDate,i).then(h=>{this.handleAddEmployment(h),t.account?.changeAcc&&this.handleAddEditSubmission(t.accountId,a)}).catch(h=>{409==h.statusCode&&(this.tempStartEmploymentInput=t,n&&this.modalsControllerService.openModal(n))})}handleAddEmployment(t){!this.team||(this.team._id==this.targetJob?._id?(this.team={...this.team,employment:t},this.fetchProfilePicture(t.talent._id,this.team.employment)):this.team?.teamMembers.forEach(n=>{n._id==this.targetJob?._id&&(n.employment=t,this.fetchProfilePicture(t.talent._id,n.employment))}),this.modalsControllerService.closeUpperModal())}endEmployment(t){if(!this.targetJob||null==this.targetJob.employment)return void console.log("No job with employment selected");let i,n={};t.account?.changeAcc&&(t.account?.email&&(n.email=t.account.email),t.account?.role&&(n.role=t.account.role)),t.account?.revokeAcc&&(i={talentId:t.account?.revokeAcc.talentId,email:t.account?.revokeAcc.email}),this.employmentApiService.endEmployment(this.targetJob?.employment._id,t.employment.newStatus,t.employment.until,t.employment.notes).then(a=>{void 0!==this.targetJob&&(this.targetJob.employment=null),t.account?.changeAcc?this.handleAddEditSubmission(t.accountId,n):t.account?.revokeAcc&&this.revokeAccount(i.talentId,i.email)}).then(a=>{this.modalsControllerService.closeUpperModal()})}createJob(t){this.jobId?this.teamApiService.addJob(this.jobId,t.propertyId,t.positionId).then(n=>{this.team&&this.team.teamMembers.push(n),this.modalsControllerService.closeUpperModal()}):console.log("No leader id")}deleteJob(){this.targetJob?this.teamApiService.removeJob(this.targetJob._id).then(t=>{this.jobId&&this.fetchTeamForLeader(this.jobId)}).catch(t=>{let n="";"Job is leader of other and cannot be deleted"===t.message.message&&(n="This job cannot currently be removed because it manages other job(s)."),this.messageService.add({severity:"error",summary:"Could not delete",detail:n,life:5e3})}):console.log("No job selected")}fetchTeamForLeader(t){this.teamApiService.getTeamByLeader(t).then(n=>{this.jobId=n._id,this.team=n,this.team.employment&&this.fetchProfilePicture(this.team.employment.talent._id,this.team.employment);for(let i of this.team.teamMembers)i.employment&&this.fetchProfilePicture(i.employment.talent._id,i.employment);this.router.navigate([],{relativeTo:this.route,queryParams:{j:t},queryParamsHandling:"merge",replaceUrl:!0})}).catch(n=>{const i=this.widgets.find(a=>"job_navigator"==a.id);i&&(i.visible=!1,this.calcVisibleWidgets())})}fetchRelevantJobForTalent(t){this.teamApiService.getRelevantJobByTalent(t).then(n=>{this.fetchTeamForLeader(n.jobId)}).catch(n=>{const i=this.widgets.find(a=>"job_navigator"==a.id);i&&(i.visible=!1,this.calcVisibleWidgets())})}fetchProfilePicture(t,n){(0,T.z)(this.fileManagerService.getTalentProfilePicture({talentId:t})).then(i=>{!i||(n.talent.profilePictureSrc=i.downloadLink)}).catch(i=>{console.warn(i)})}handleAddEditSubmission(t,n){null!=t?(this.processingModalRequest=!0,this.accountsServiceApi.editAccount(t,n.email,n.role).then(i=>this.handleSuccessEdit(i.account)).catch(()=>{this.showErrorMessage("Error","There was an error while editing this Account")}).finally(()=>{this.processingModalRequest=!1})):console.warn("No target account")}revokeAccount(t,n){this.talentsManagementServiceApi.revokeTalentsAccount(t).then(i=>{this.showSuccessMessage("Revoked","Successfully revoked the account for "+n)}).catch(()=>{this.showErrorMessage("Error","There was an error while editing this Account")})}handleSuccessEdit(t){this.showSuccessMessage("Edited","Successfully edited the account")}showSuccessMessage(t,n){this.messageService.add({severity:"success",summary:t,detail:n,life:3e3})}showErrorMessage(t,n){this.messageService.add({severity:"error",summary:t,detail:n,life:4e3})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(C.gz),e.Y36(C.F0),e.Y36(c.V),e.Y36(v.U),e.Y36(y.Ib),e.Y36(A.ez),e.Y36(s.K),e.Y36(M.B),e.Y36(u.C),e.Y36(f.l))},o.\u0275cmp=e.Xpm({type:o,selectors:[["keiro-team"]],decls:12,vars:2,consts:[[4,"ngFor","ngForOf"],["class","card",4,"ngIf"],["addJobModal",""],["removeJobModal",""],["addEditEmploymentModal",""],["talentAlreadyEmployedModal",""],["endEmploymentModal",""],[1,"card"],[1,"card-body",3,"ngSwitch"],[3,"team","canManageHierarchy","navigateJobEvent","navigateTalentEvent","clickStartEmployment","clickEndEmployment","clickAddJob","clickDeleteJob",4,"ngSwitchCase"],[3,"team","canManageHierarchy","navigateJobEvent","navigateTalentEvent","clickStartEmployment","clickEndEmployment","clickAddJob","clickDeleteJob"],[1,"card-body","text-center"],[3,"responsible","onSumbit","onCloseModal"],["modalHeader","Remove this job?","confirmButtonText","Remove job","confirmButtonIconClasses","fa fa-trash","context","This job will be discontinued and talents will not be able to be assigned to it.","confirmationPrompt","",3,"canUndo","onConfirm","onReject"],[3,"forJob","onSumbit","onCloseModal"],[3,"canSetMultiple","navigateTalentEvent","onAllowMultiple","onCloseModal"],[3,"job","employment","onCloseModal","onSumbit"]],template:function(t,n){1&t&&(e.YNc(0,Be,2,1,"span",0),e.YNc(1,Qe,3,0,"span",1),e.YNc(2,Ve,1,1,"ng-template",null,2,e.W1O),e.YNc(4,Ke,1,1,"ng-template",null,3,e.W1O),e.YNc(6,We,1,1,"ng-template",null,4,e.W1O),e.YNc(8,Ge,1,1,"ng-template",null,5,e.W1O),e.YNc(10,ze,1,2,"ng-template",null,6,e.W1O)),2&t&&(e.Q6J("ngForOf",n.widgets),e.xp6(1),e.Q6J("ngIf",!n.visibleWidgets))},dependencies:[d.S,b.Q,p.sg,p.O5,p.RF,p.n9,m.S,xe,Ze,ke],styles:[".widget[_ngcontent-%COMP%]{margin:.5em 0}"]}),o})();var $e=r(6781),Xe=r(388),et=r(585),tt=r(1892),nt=r(5609);let ot=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[nt.Z,C.Bz.forChild([{path:"",component:qe}]),p.ez,D.UX,g.hJ,ge,Xe.zk,L.kW,et._8,$e._,tt.C]}),o})()},2320:(w,E,r)=>{r.d(E,{i9:()=>u,z8:()=>f});var p=r(1571),_=r(1607),T=r(5987),y=r(655),e=r(2381),C=r(5963),c=r(6895);const v=["*"];let A=(()=>{class d{constructor(){this.adaptivePosition=!0,this.placement="top",this.triggers="hover focus",this.delay=0}}return d.\u0275fac=function(m){return new(m||d)},d.\u0275prov=p.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})(),s=(()=>{class d{constructor(m){Object.assign(this,m)}get _bsVersions(){return(0,_.Wl)()}ngAfterViewInit(){this.classMap={in:!1,fade:!1},this.placement&&(this._bsVersions.isBs5&&(this.placement=T.Bz[this.placement]),this.classMap[this.placement]=!0),this.classMap[`tooltip-${this.placement}`]=!0,this.classMap.in=!0,this.animation&&(this.classMap.fade=!0),this.containerClass&&(this.classMap[this.containerClass]=!0)}}return d.\u0275fac=function(m){return new(m||d)(p.Y36(A))},d.\u0275cmp=p.Xpm({type:d,selectors:[["bs-tooltip-container"]],hostAttrs:["role","tooltip"],hostVars:7,hostBindings:function(m,g){2&m&&(p.uIk("id",g.id),p.Tol("tooltip in tooltip-"+g.placement+" bs-tooltip-"+g.placement+" "+g.placement+" "+g.containerClass),p.ekj("show",!g._bsVersions.isBs3)("bs3",g._bsVersions.isBs3))},ngContentSelectors:v,decls:3,vars:0,consts:[[1,"tooltip-arrow","arrow"],[1,"tooltip-inner"]],template:function(m,g){1&m&&(p.F$t(),p._UZ(0,"div",0),p.TgZ(1,"div",1),p.Hsn(2),p.qZA())},styles:[".tooltip[_nghost-%COMP%]{display:block;pointer-events:none}.bs3.tooltip.top[_nghost-%COMP%] > .arrow[_ngcontent-%COMP%]{margin-left:-2px}.bs3.tooltip.bottom[_nghost-%COMP%]{margin-top:0}.bs3.bs-tooltip-left[_nghost-%COMP%], .bs3.bs-tooltip-right[_nghost-%COMP%]{margin:0}.bs3.bs-tooltip-right[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%], .bs3.bs-tooltip-left[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%]{margin:.3rem 0}"],changeDetection:0}),d})(),M=0,u=(()=>{class d{constructor(m,g,O,S,I,x){this._elementRef=S,this._renderer=I,this._positionService=x,this.tooltipId=M++,this.adaptivePosition=!0,this.tooltipChange=new p.vpe,this.placement="top",this.triggers="hover focus",this.containerClass="",this.isDisabled=!1,this.delay=0,this.tooltipAnimation=!0,this.tooltipFadeDuration=150,this.tooltipStateChanged=new p.vpe,this._tooltip=g.createLoader(this._elementRef,m,this._renderer).provide({provide:A,useValue:O}),Object.assign(this,O),this.onShown=this._tooltip.onShown,this.onHidden=this._tooltip.onHidden}get isOpen(){return this._tooltip.isShown}set isOpen(m){m?this.show():this.hide()}set htmlContent(m){(0,_.O4)("tooltipHtml was deprecated, please use `tooltip` instead"),this.tooltip=m}set _placement(m){(0,_.O4)("tooltipPlacement was deprecated, please use `placement` instead"),this.placement=m}set _isOpen(m){(0,_.O4)("tooltipIsOpen was deprecated, please use `isOpen` instead"),this.isOpen=m}get _isOpen(){return(0,_.O4)("tooltipIsOpen was deprecated, please use `isOpen` instead"),this.isOpen}set _enable(m){(0,_.O4)("tooltipEnable was deprecated, please use `isDisabled` instead"),this.isDisabled=!m}get _enable(){return(0,_.O4)("tooltipEnable was deprecated, please use `isDisabled` instead"),this.isDisabled}set _appendToBody(m){(0,_.O4)('tooltipAppendToBody was deprecated, please use `container="body"` instead'),this.container=m?"body":this.container}get _appendToBody(){return(0,_.O4)('tooltipAppendToBody was deprecated, please use `container="body"` instead'),"body"===this.container}set _popupClass(m){(0,_.O4)("tooltipClass deprecated")}set _tooltipContext(m){(0,_.O4)("tooltipContext deprecated")}set _tooltipPopupDelay(m){(0,_.O4)("tooltipPopupDelay is deprecated, use `delay` instead"),this.delay=m}get _tooltipTrigger(){return(0,_.O4)("tooltipTrigger was deprecated, please use `triggers` instead"),this.triggers}set _tooltipTrigger(m){(0,_.O4)("tooltipTrigger was deprecated, please use `triggers` instead"),this.triggers=(m||"").toString()}ngOnInit(){this._tooltip.listen({triggers:this.triggers,show:()=>this.show()}),this.tooltipChange.subscribe(m=>{m||this._tooltip.hide()}),this.onShown.subscribe(()=>{this.setAriaDescribedBy()}),this.onHidden.subscribe(()=>{this.setAriaDescribedBy()})}setAriaDescribedBy(){this._ariaDescribedby=this.isOpen?`tooltip-${this.tooltipId}`:void 0,this._ariaDescribedby?this._renderer.setAttribute(this._elementRef.nativeElement,"aria-describedby",this._ariaDescribedby):this._renderer.removeAttribute(this._elementRef.nativeElement,"aria-describedby")}toggle(){if(this.isOpen)return this.hide();this.show()}show(){if(this._positionService.setOptions({modifiers:{flip:{enabled:this.adaptivePosition},preventOverflow:{enabled:this.adaptivePosition,boundariesElement:this.boundariesElement||"scrollParent"}}}),this.isOpen||this.isDisabled||this._delayTimeoutId||!this.tooltip)return;const m=()=>{this._delayTimeoutId&&(this._delayTimeoutId=void 0),this._tooltip.attach(s).to(this.container).position({attachment:this.placement}).show({content:this.tooltip,placement:this.placement,containerClass:this.containerClass,id:`tooltip-${this.tooltipId}`})},g=()=>{this._tooltipCancelShowFn&&this._tooltipCancelShowFn()};this.delay?(this._delaySubscription&&this._delaySubscription.unsubscribe(),this._delaySubscription=(0,C.H)(this.delay).subscribe(()=>{m(),g()}),this.triggers&&(0,_.AL)(this.triggers).forEach(O=>{!O.close||(this._tooltipCancelShowFn=this._renderer.listen(this._elementRef.nativeElement,O.close,()=>{this._delaySubscription?.unsubscribe(),g()}))})):m()}hide(){this._delayTimeoutId&&(clearTimeout(this._delayTimeoutId),this._delayTimeoutId=void 0),this._tooltip.isShown&&(this._tooltip.instance?.classMap&&(this._tooltip.instance.classMap.in=!1),setTimeout(()=>{this._tooltip.hide()},this.tooltipFadeDuration))}ngOnDestroy(){this._tooltip.dispose(),this.tooltipChange.unsubscribe(),this._delaySubscription&&this._delaySubscription.unsubscribe(),this.onShown.unsubscribe(),this.onHidden.unsubscribe()}}return d.\u0275fac=function(m){return new(m||d)(p.Y36(p.s_b),p.Y36(e.oj),p.Y36(A),p.Y36(p.SBq),p.Y36(p.Qsj),p.Y36(T.sA))},d.\u0275dir=p.lG2({type:d,selectors:[["","tooltip",""],["","tooltipHtml",""]],inputs:{adaptivePosition:"adaptivePosition",tooltip:"tooltip",placement:"placement",triggers:"triggers",container:"container",containerClass:"containerClass",boundariesElement:"boundariesElement",isOpen:"isOpen",isDisabled:"isDisabled",delay:"delay",htmlContent:["tooltipHtml","htmlContent"],_placement:["tooltipPlacement","_placement"],_isOpen:["tooltipIsOpen","_isOpen"],_enable:["tooltipEnable","_enable"],_appendToBody:["tooltipAppendToBody","_appendToBody"],tooltipAnimation:"tooltipAnimation",_popupClass:["tooltipClass","_popupClass"],_tooltipContext:["tooltipContext","_tooltipContext"],_tooltipPopupDelay:["tooltipPopupDelay","_tooltipPopupDelay"],tooltipFadeDuration:"tooltipFadeDuration",_tooltipTrigger:["tooltipTrigger","_tooltipTrigger"]},outputs:{tooltipChange:"tooltipChange",onShown:"onShown",onHidden:"onHidden",tooltipStateChanged:"tooltipStateChanged"},exportAs:["bs-tooltip"]}),(0,y.gn)([(0,_.GU)(),(0,y.w6)("design:type",Object)],d.prototype,"tooltip",void 0),d})(),f=(()=>{class d{static forRoot(){return{ngModule:d,providers:[e.oj,T.sA]}}}return d.\u0275fac=function(m){return new(m||d)},d.\u0275mod=p.oAB({type:d}),d.\u0275inj=p.cJS({imports:[c.ez]}),d})()}}]);