"use strict";(self.webpackChunkalasta_ui=self.webpackChunkalasta_ui||[]).push([[933],{5303:(T,p,a)=>{a.d(p,{e:()=>h});var t=a(5e3),e=a(2382),_=a(727),c=a(8372),u=a(9808),g=a(4036),m=a(9783),v=a(5652);function f(d,s){if(1&d&&(t.TgZ(0,"h6",14),t._uU(1),t.qZA(),t.TgZ(2,"h6",15),t.TgZ(3,"small"),t._uU(4),t._UZ(5,"br"),t._uU(6),t.qZA(),t.qZA()),2&d){const n=s.$implicit;t.xp6(1),t.Oqu(n.name),t.xp6(3),t.hij(" ",n.department,""),t.xp6(2),t.hij(" ",n.area," ")}}function E(d,s){1&d&&t._uU(0,"Could not find a position with that name, please contact your Keiro admin if you'd like to create it.")}function A(d,s){if(1&d&&(t.TgZ(0,"form",1),t.TgZ(1,"div",2),t.TgZ(2,"div",3),t.TgZ(3,"div",4),t.TgZ(4,"label",5),t._uU(5,"Property *"),t.qZA(),t.TgZ(6,"div",6),t._UZ(7,"p-dropdown",7),t.qZA(),t.qZA(),t.qZA(),t.TgZ(8,"div",8),t.TgZ(9,"div",4),t.TgZ(10,"label",5),t._uU(11,"Position *"),t.qZA(),t.TgZ(12,"div",6),t.TgZ(13,"p-dropdown",9),t.YNc(14,f,7,3,"ng-template",10),t.YNc(15,E,1,0,"ng-template",11),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(16,"div",12),t.TgZ(17,"div",4),t.TgZ(18,"label",5),t._uU(19,"Start date *"),t.qZA(),t.TgZ(20,"div",6),t._UZ(21,"p-calendar",13),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&d){const n=t.oxw();t.Q6J("formGroup",n.addLegacyWorkInfoForm),t.xp6(7),t.Q6J("filter",!0)("options",n.propertyOptions)("autoDisplayFirst",!1),t.xp6(6),t.Q6J("filter",!0)("options",n.positionOptions)("autoDisplayFirst",!1),t.xp6(8),t.Q6J("showIcon",!0)("maxDate",n.today)}}let h=(()=>{class d{constructor(n){var o;this.fb=n,this.positionOptions=[],this.propertyOptions=[],this.valueChanges=new t.vpe,this.statusChanges=new t.vpe,this.today=new Date,this.subscriptions=new _.w0,this.subscriptions.add(null===(o=this.touchForm)||void 0===o?void 0:o.subscribe(()=>{var i;null===(i=this.addLegacyWorkInfoForm)||void 0===i||i.markAllAsTouched(),Object.keys(this.addLegacyWorkInfoForm.controls).forEach(r=>{var l;null===(l=this.addLegacyWorkInfoForm.get(r))||void 0===l||l.markAsDirty()})}))}set disabled(n){var o,i;n?null===(o=this.addLegacyWorkInfoForm)||void 0===o||o.disable():null===(i=this.addLegacyWorkInfoForm)||void 0===i||i.enable()}ngOnInit(){this.initializeForm()}ngOnDestroy(){this.subscriptions.unsubscribe()}initializeForm(){this.addLegacyWorkInfoForm=this.fb.group({position:[null,e.kI.required],property:[null,e.kI.required],startDate:[null,e.kI.required]}),this.subscriptions.add(this.addLegacyWorkInfoForm.statusChanges.subscribe(n=>{this.statusChanges.emit(n)})),this.subscriptions.add(this.addLegacyWorkInfoForm.valueChanges.pipe((0,c.b)(350)).subscribe(n=>{this.valueChanges.emit(this.getFormValue())}))}getFormValue(){var n,o,i;return{positionId:null===(n=this.addLegacyWorkInfoForm)||void 0===n?void 0:n.value.position,propertyId:null===(o=this.addLegacyWorkInfoForm)||void 0===o?void 0:o.value.property,startDate:null===(i=this.addLegacyWorkInfoForm)||void 0===i?void 0:i.value.startDate}}}return d.\u0275fac=function(n){return new(n||d)(t.Y36(e.qu))},d.\u0275cmp=t.Xpm({type:d,selectors:[["employment-forms-add-legacy-work"]],inputs:{positionOptions:"positionOptions",propertyOptions:"propertyOptions",touchForm:"touchForm",disabled:"disabled"},outputs:{valueChanges:"valueChanges",statusChanges:"statusChanges"},decls:1,vars:1,consts:[["autocomplete","off",3,"formGroup",4,"ngIf"],["autocomplete","off",3,"formGroup"],[1,"form-row","align-items-start"],[1,"col-12","col-sm-7","col-md-5","col-lg-5"],[1,"field","my-2"],[1,"block","mb-0"],[1,"p-fluid"],["formControlName","property","optionLabel","name","optionValue","_id",3,"filter","options","autoDisplayFirst"],[1,"col-12","col-sm-5","col-md-3","col-lg-4"],["formControlName","position","optionLabel","name","optionValue","_id",3,"filter","options","autoDisplayFirst"],["pTemplate","item"],["pTemplate","empty"],[1,"col-12","col-sm-6","col-md-4","col-lg-3"],["formControlName","startDate","dateFormat","dd M yy","icon","fas fa-calendar-alt",3,"showIcon","maxDate"],[1,"mb-0"],[1,"mb-1"]],template:function(n,o){1&n&&t.YNc(0,A,22,9,"form",0),2&n&&t.Q6J("ngIf",o.addLegacyWorkInfoForm)},directives:[u.O5,e._Y,e.JL,e.sg,g.Lt,e.JJ,e.u,m.jx,v.f],styles:[""]}),d})()},3920:(T,p,a)=>{a.d(p,{y:()=>g});var t=a(9808),e=a(2382),_=a(4036),c=a(5652),u=a(5e3);let g=(()=>{class m{}return m.\u0275fac=function(f){return new(f||m)},m.\u0275mod=u.oAB({type:m}),m.\u0275inj=u.cJS({imports:[[t.ez,e.UX,_.kW,c._8]]}),m})()},549:(T,p,a)=>{a.d(p,{V:()=>d});var t=a(5e3),e=a(2382),_=a(727),c=a(8372),u=a(9808),g=a(1424),m=a(8430),v=a(5652),f=a(4036),E=a(6526),A=a(242);function h(s,n){if(1&s){const o=t.EpF();t.TgZ(0,"form",1),t.TgZ(1,"div",2),t.TgZ(2,"div",3),t.TgZ(3,"div",4),t.TgZ(4,"label",5),t._uU(5,"Last names *"),t.qZA(),t.TgZ(6,"div",6),t._UZ(7,"input",7),t.qZA(),t.TgZ(8,"small",8),t._uU(9),t.qZA(),t.qZA(),t.qZA(),t.TgZ(10,"div",9),t.TgZ(11,"div",4),t.TgZ(12,"label",10),t._uU(13,"First names *"),t.qZA(),t.TgZ(14,"div",6),t._UZ(15,"input",11),t.qZA(),t.TgZ(16,"small",12),t._uU(17),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"div",13),t.TgZ(19,"div",4),t.TgZ(20,"label",14),t._uU(21,"Date of birth *"),t.qZA(),t.TgZ(22,"div",6),t.TgZ(23,"p-calendar",15,16),t.NdJ("onShow",function(){t.CHM(o);const r=t.MAs(24);return t.oxw().prepareCalenderView(r)}),t.qZA(),t.qZA(),t.TgZ(25,"small",17),t._uU(26),t.qZA(),t.qZA(),t.qZA(),t.TgZ(27,"div",18),t.TgZ(28,"div",4),t.TgZ(29,"label",19),t._uU(30,"Nationality *"),t.qZA(),t.TgZ(31,"div",6),t._UZ(32,"p-dropdown",20),t.qZA(),t.TgZ(33,"small",21),t._uU(34),t.qZA(),t.qZA(),t.qZA(),t.TgZ(35,"div",18),t.TgZ(36,"div",4),t.TgZ(37,"label",22),t._uU(38,"Languages *"),t.qZA(),t.TgZ(39,"div",6),t._UZ(40,"p-multiSelect",23),t.qZA(),t.TgZ(41,"small",24),t._uU(42),t.qZA(),t.qZA(),t.qZA(),t.TgZ(43,"div",18),t.TgZ(44,"div",4),t.TgZ(45,"label",25),t._uU(46,"Available for relocation? *"),t.qZA(),t.TgZ(47,"div",26),t._UZ(48,"p-inputSwitch",27),t.qZA(),t.TgZ(49,"small",28),t._uU(50),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&s){const o=t.oxw();t.Q6J("formGroup",o.talentFormGroup),t.xp6(8),t.Q6J("collapse",!o.isFormError("lastNames"))("isAnimated",!0),t.xp6(1),t.hij(" ",o.prettifyError("lastNames")," "),t.xp6(7),t.Q6J("collapse",!o.isFormError("firstNames"))("isAnimated",!0),t.xp6(1),t.hij(" ",o.prettifyError("firstNames")," "),t.xp6(6),t.Q6J("showIcon",!0)("minDate",o.minDate)("maxDate",o.today),t.xp6(2),t.Q6J("collapse",!o.isFormError("dobDate"))("isAnimated",!0),t.xp6(1),t.hij(" ",o.prettifyError("dobDate")," "),t.xp6(6),t.Q6J("autoDisplayFirst",!1)("filter",!0)("options",o._nationalityOptions),t.xp6(1),t.Q6J("collapse",!o.isFormError("nationality"))("isAnimated",!0),t.xp6(1),t.hij(" ",o.prettifyError("nationality")," "),t.xp6(6),t.Q6J("options",o._languageOptions),t.xp6(1),t.Q6J("collapse",!o.isFormError("languages"))("isAnimated",!0),t.xp6(1),t.hij(" ",o.prettifyError("languages")," "),t.xp6(7),t.Q6J("collapse",!o.isFormError("mobility"))("isAnimated",!0),t.xp6(1),t.hij(" ",o.prettifyError("mobility")," ")}}let d=(()=>{class s{constructor(o){this.fb=o,this._nationalityOptions=[],this._languageOptions=[],this.canManageAccounts=!1,this.valueChanges=new t.vpe,this.statusChanges=new t.vpe,this.showAlastaAccountSection=!1,this.minDate=new Date("1/1/1910"),this.today=new Date,this.subscriptions=new _.w0}set allNationalities(o){this._nationalityOptions=o.map(i=>({name:i,value:i}))}set allLanguages(o){this._languageOptions=o.map(i=>({name:i,value:i}))}set disabled(o){var i,r;o?null===(i=this.talentFormGroup)||void 0===i||i.disable():null===(r=this.talentFormGroup)||void 0===r||r.enable()}ngOnInit(){var o;this.initializeForm(),this.subscriptions.add(null===(o=this.touchForm)||void 0===o?void 0:o.subscribe(()=>{var i;null===(i=this.talentFormGroup)||void 0===i||i.markAllAsTouched(),Object.keys(this.talentFormGroup.controls).forEach(r=>{var l;null===(l=this.talentFormGroup.get(r))||void 0===l||l.markAsDirty()})}))}ngOnDestroy(){this.subscriptions.unsubscribe()}initializeForm(){var o,i,r,l,Z,D;this.talentFormGroup=this.fb.group({firstNames:[(null===(o=this.initialValue)||void 0===o?void 0:o.firstNames)||null,[e.kI.required,e.kI.minLength(2),e.kI.maxLength(100)]],lastNames:[(null===(i=this.initialValue)||void 0===i?void 0:i.lastNames)||null,[e.kI.required,e.kI.minLength(2),e.kI.maxLength(100)]],nationality:[(null===(r=this.initialValue)||void 0===r?void 0:r.nationality)||null,[e.kI.required]],dobDate:[(null===(l=this.initialValue)||void 0===l?void 0:l.dobDate)||null,[e.kI.required]],mobility:[(null===(Z=this.initialValue)||void 0===Z?void 0:Z.mobility)||!1,[e.kI.required]],languages:[(null===(D=this.initialValue)||void 0===D?void 0:D.languages)||null,[e.kI.required]]}),this.subscriptions.add(this.talentFormGroup.statusChanges.subscribe(y=>{this.statusChanges.emit(y)})),this.subscriptions.add(this.talentFormGroup.valueChanges.pipe((0,c.b)(350)).subscribe(y=>{this.valueChanges.emit(y)}))}prepareCalenderView(o){o.switchToYearView(new Event("")),!o.value&&(o.decrementDecade(),o.decrementDecade())}isFormError(o){var i;const r=null===(i=this.talentFormGroup)||void 0===i?void 0:i.get(o);return!(null==r?void 0:r.pristine)&&!(null==r?void 0:r.valid)}prettifyError(o){var i,r;const l=null===(r=null===(i=this.talentFormGroup)||void 0===i?void 0:i.get(o))||void 0===r?void 0:r.errors;return l?l.required?"Required":l.min||l.max?"Invalid":l.notInteger||l.notNumeric?"Not number":l.valueNotInOptions?"Unknown value":l.email?"Not valid email address":l.emailInUse?l.associatedName?`Email address already in use by ${l.associatedName}`:"Email address already in use":l.minlength||l.maxlength?"Invalid length":l.matDatepickerMin||l.matDatepickerMax?"Invalid date":l.allOrNothing?"Incomplete work information":"":""}}return s.\u0275fac=function(o){return new(o||s)(t.Y36(e.qu))},s.\u0275cmp=t.Xpm({type:s,selectors:[["talent-form"]],inputs:{touchForm:"touchForm",initialValue:"initialValue",allNationalities:"allNationalities",allLanguages:"allLanguages",disabled:"disabled",canManageAccounts:"canManageAccounts",canCreateRoles:"canCreateRoles"},outputs:{valueChanges:"valueChanges",statusChanges:"statusChanges"},decls:1,vars:1,consts:[["autocomplete","off",3,"formGroup",4,"ngIf"],["autocomplete","off",3,"formGroup"],[1,"form-row","align-items-start"],[1,"col-12","col-sm-7","col-md-5","col-lg-5"],[1,"field","my-2"],["for","lastNameInput",1,"block","mb-0"],[1,"p-fluid"],["pInputText","","formControlName","lastNames","id","lastNameInput","name","lastNames","aria-describedby","lastNamesInvalid","autocomplete","off","type","text"],["id","lastNamesInvalid",1,"p-error","block",3,"collapse","isAnimated"],[1,"col-12","col-sm-5","col-md-3","col-lg-4"],["for","firstNamesInput",1,"block","mb-0"],["pInputText","","formControlName","firstNames","id","firstNamesInput","name","firstNames","aria-describedby","firstNamesInvalid","autocomplete","off","type","text"],["id","firstNamesInvalid",1,"p-error","block",3,"collapse","isAnimated"],[1,"col-12","col-sm-6","col-md-4","col-lg-3"],["for","dobDateInput",1,"block","mb-0"],["formControlName","dobDate","dateFormat","dd M yy","icon","fas fa-calendar-alt","placeholder","01 Jan 2001","autocomplete","off","type","text",3,"showIcon","minDate","maxDate","onShow"],["dobCalendar",""],["id","dobDateInvalid",1,"p-error","block",3,"collapse","isAnimated"],[1,"col-12","col-sm-6","col-md-4"],["for","nationalityInput",1,"block","mb-0"],["formControlName","nationality","optionLabel","name","optionValue","value",3,"autoDisplayFirst","filter","options"],["id","nationalityInvalid",1,"p-error","block",3,"collapse","isAnimated"],["for","languagesInput",1,"block","mb-0"],["formControlName","languages","optionLabel","name","optionValue","value",3,"options"],["id","languagesInvalid",1,"p-error","block",3,"collapse","isAnimated"],["for","mobilityInput",1,"block","align-top","mb-0","mr-1"],[1,"block"],["formControlName","mobility"],["id","mobilityInvalid",1,"p-error","block",3,"collapse","isAnimated"]],template:function(o,i){1&o&&t.YNc(0,h,51,26,"form",0),2&o&&t.Q6J("ngIf",i.talentFormGroup)},directives:[u.O5,e._Y,e.JL,e.sg,e.Fj,g.o,e.JJ,e.u,m.Y,v.f,f.Lt,E.NU,A.Ql],styles:[""]}),s})()},8099:(T,p,a)=>{a.d(p,{B:()=>d});var t=a(9808),e=a(1424),_=a(2382),c=a(8430),u=a(5652),g=a(6526),m=a(4036),v=a(242),f=a(9603),E=a(3345),A=a(5973),h=a(5e3);let d=(()=>{class s{}return s.\u0275fac=function(o){return new(o||s)},s.\u0275mod=h.oAB({type:s}),s.\u0275inj=h.cJS({imports:[[t.ez,_.UX,u._8,c.f,m.kW,g.q4,v.Iu,f.cc,e.j,E.k,A.s]]}),s})()}}]);